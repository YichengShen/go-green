{"version":3,"sources":["services/firebase.js","services/AuthContext.js","utils/capFirstLetter.js","services/registerUserInfo.js","pages/Signup.js","pages/Login.js","pages/ForgotPassword.js","theme.js","components/BottomNav.js","components/AlertDialog.js","components/Header.js","pages/Home.js","utils/startOfToday.js","utils/uniqueId.js","utils/scoreToColor.js","services/readGlobeMarkers.js","components/Globe.js","components/CityInputField.js","components/SurveyHelperDialog.js","components/DailySurvey.js","services/pushNewSurvey.js","services/checkSurveyCompleted.js","pages/Checkin.js","pages/Badges.js","services/readRankingData.js","pages/Ranking.js","components/PrivateRoute.js","components/App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","firestore","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","Provider","capFirstLetter","lower","charAt","toUpperCase","substring","toLowerCase","registerUserInfo","firstName","lastName","newUser","uid","collection","doc","set","updateProfile","displayName","useStyles","makeStyles","theme","paper","backgroundColor","palette","primary","main","color","contrastText","padding","spacing","marginBottom","display","flexDirection","alignItems","avatar","margin","secondary","light","greenBoldText","fontWeight","form","width","marginTop","submit","cancel","cssLabel","cssInput","cssOutlinedInput","borderColor","cssFocused","notchedOutline","borderWidth","Signup","firstNameRef","useRef","lastNameRef","emailRef","passwordRef","passwordConfirmRef","error","setError","classes","history","useHistory","handleSubmit","e","a","preventDefault","current","then","result","push","message","Container","component","maxWidth","CssBaseline","Box","p","className","Typography","variant","Avatar","Alert","severity","AlertTitle","onSubmit","Grid","container","item","xs","sm","TextField","autoComplete","name","required","fullWidth","id","label","autoFocus","inputRef","InputLabelProps","root","focused","InputProps","input","inputMode","type","Button","disabled","RouterLink","to","justify","Link","Login","ForgotPassword","setMessage","createMuiTheme","mainLight","dark","typography","fontFamily","join","navTheme","overrides","MuiBottomNavigation","position","bottom","MuiBottomNavigationAction","boxSizing","BottomNav","props","BottomNavigation","pageValue","onChange","event","newValue","onPageChange","showLabels","BottomNavigationAction","icon","Badge","invisible","checkinCompleted","AlertDialog","Dialog","open","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","errorMsg","DialogActions","onClick","headerTheme","MuiAppBar","colorPrimary","MuiButton","right","Header","alertOpen","setAlertOpen","handleLogout","AppBar","Toolbar","IconButton","edge","aria-label","mr","Fragment","buttonTheme","paperGrey","paperBlack","greenBold","whiteBold","whiteText","alignRight","textAlign","marginRight","alignLeft","marginLeft","Home","Aos","init","duration","direction","style","top","src","alt","motion","div","animate","y","opacity","transition","delay","repeat","Infinity","repeatType","stiffness","mb","data-aos","data-aos-easing","Paper","textDecoration","size","md","data-aos-delay","startOfToday","moment","utc","startOf","toDate","uniqueId","prefix","Date","valueOf","toString","milliseconds","start","getTime","i","sleep","scoreToColor","score","readGlobeMarkers","db","where","get","querySnapshot","markers","forEach","city","data","lat","coordinates","lng","hasOwnProperty","sum","parseFloat","count","markersArray","Object","entries","v","Math","ceil","random","scaleFactor","markerRenderer","marker","max","geometry","THREE","material","mesh","glow","createGlowMesh","backside","coefficient","power","add","companions","companionGeometry","min","companionMaterial","companion","lookAt","from","clone","toArray","scale","tween","animationDuration","easingFunction","onUpdate","x","z","intensityChange","intensity","onEnd","Globe","setMarkers","response","console","log","check","options","cameraRotateSpeed","cameraAutoRotateSpeed","focusAnimationDuration","enableMarkerGlow","globeCloudsOpacity","globeGlowColor","enableMarkerTooltip","markerTooltipRenderer","height","initialCoordinates","initialCameraDistanceRadiusScale","autocompleteResults","CityInputField","onSetCity","onSetCoordinates","handleSelect","geocodeByAddress","results","getLatLng","latLng","onSelect","searchOptions","types","getInputProps","suggestions","getSuggestionItemProps","placeholder","length","elevation","map","suggestion","index","active","description","Transition","forwardRef","ref","Slide","withStyles","MuiDialogContent","MuiDialogActions","SurveyHelperDialog","setOpen","handleClose","fontSize","TransitionComponent","PaperProps","dividers","gutterBottom","surveyTheme","MuiToggleButtonGroup","borderRadius","backgroundImage","green","red","MuiToggleButton","sizeLarge","DailySurvey","setCity","setCoordinates","level","setLevel","submitError","mt","ToggleButtonGroup","orientation","exclusive","newLevel","ToggleButton","pushNewSurvey","newSurvey","date","Timestamp","fromDate","docRef","catch","checkSurveyCompleted","BreakException","Checkin","setCheckinCompleted","surveyCompleted","setSurveyCompleted","setScore","setSubmitError","Badges","readRankingData","cityDict","cityArray","userCount","StyledTable","styled","DataTable","tableTheme","button","dataTable","header","extend","body","icons","columns","property","Text","align","render","datum","pad","vertical","Meter","values","thickness","round","Ranking","rankingData","setRankingData","lg","Grommet","plain","sort","sortable","c","search","step","PrivateRoute","Component","rest","App","setPageValue","overflow","basename","path","exact","ReactDOM","StrictMode","ThemeProvider","document","getElementById"],"mappings":"kVAIMA,G,cAAMC,IAASC,cAAc,CACjCC,OAAQC,0CACRC,WAAYD,iCACZE,UAAWF,iBACXG,cAAeH,6BACfI,kBAAmBJ,eACnBK,MAAOL,+CAGIM,EAAOV,EAAIU,OACXC,EAAYX,EAAIW,Y,OCXvBC,EAAcC,IAAMC,gBAEbC,EAAU,WACrB,OAAOC,qBAAWJ,IAGPK,EAAe,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACNC,qBADM,mBACrCC,EADqC,KACxBC,EADwB,OAEdF,oBAAS,GAFK,mBAErCG,EAFqC,KAE5BC,EAF4B,KAoB5CC,qBAAU,WAMR,OALoBd,EAAKe,oBAAmB,SAACC,GAC3CL,EAAeK,GACfH,GAAW,QAIZ,IAEH,IAAMI,EAAQ,CACZP,cACAQ,MAvBY,SAACC,EAAOC,GACpB,OAAOpB,EAAKqB,2BAA2BF,EAAOC,IAuB9CE,OA5Ba,SAACH,EAAOC,GACrB,OAAOpB,EAAKuB,+BAA+BJ,EAAOC,IA4BlDI,OArBa,WACb,OAAOxB,EAAKyB,WAqBZC,cAlBoB,SAACP,GACrB,OAAOnB,EAAK2B,uBAAuBR,KAoBrC,OACE,cAACjB,EAAY0B,SAAb,CAAsBX,MAAOA,EAA7B,UACIL,GAAWJ,KC5CJqB,EAJQ,SAACC,GACtB,OAAOA,EAAMC,OAAO,GAAGC,cAAgBF,EAAMG,UAAU,GAAGC,eCqB7CC,EAlBU,SAACC,EAAWC,GAEnC,IAAMrB,EAAOzB,IAASS,OAAOU,YAGvB4B,EAAU,CACdC,IAAKvB,EAAKuB,IACVH,UAAWP,EAAeO,GAC1BC,SAAUR,EAAeQ,IAK3B,OAHApC,EAAUuC,WAAW,SAASC,IAAIzB,EAAKuB,KAAKG,IAAIJ,GAGzCtB,EAAK2B,cAAc,CACxBC,YAAaf,EAAeO,M,2BCD1BS,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLC,gBAAiBF,EAAMG,QAAQC,QAAQC,KACvCC,MAAON,EAAMG,QAAQC,QAAQG,aAC7BC,QAASR,EAAMS,QAAQ,GACvBC,aAAcV,EAAMS,QAAQ,GAC5BE,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQf,EAAMS,QAAQ,GACtBH,MAAON,EAAMG,QAAQa,UAAUC,MAC/Bf,gBAAiBF,EAAMG,QAAQC,QAAQG,cAEzCW,cAAe,CACbZ,MAAON,EAAMG,QAAQa,UAAUC,MAC/BE,WAAY,UAEdC,KAAM,CACJC,MAAO,OACPC,UAAWtB,EAAMS,QAAQ,IAE3Bc,OAAQ,CACNR,OAAQf,EAAMS,QAAQ,EAAG,EAAG,IAE9Be,OAAQ,CACNT,OAAQf,EAAMS,QAAQ,EAAG,EAAG,GAC5BP,gBAAiB,QAGnBuB,SAAU,CACRnB,MAAM,GAAD,OAAKN,EAAMG,QAAQa,UAAUC,MAA7B,gBAEPS,SAAU,CACRpB,MAAM,GAAD,OAAKN,EAAMG,QAAQC,QAAQG,aAA3B,gBAEPoB,iBAAkB,CAChB,+BAAgC,CAC9BC,YAAY,GAAD,OAAK5B,EAAMG,QAAQa,UAAUC,MAA7B,iBAGfY,WAAY,CACVvB,MAAM,GAAD,OAAKN,EAAMG,QAAQa,UAAUC,MAA7B,gBAEPa,eAAgB,CACdC,YAAa,MACbH,YAAY,GAAD,OAAK5B,EAAMG,QAAQa,UAAUC,MAA7B,oBAuPAe,EAnPA,WACb,IAAMC,EAAe7E,IAAM8E,SACrBC,EAAc/E,IAAM8E,SACpBE,EAAWhF,IAAM8E,SACjBG,EAAcjF,IAAM8E,SACpBI,EAAqBlF,IAAM8E,SAEzB3D,EAAWjB,IAAXiB,OAPW,EAQOnB,IAAMM,SAAS,IARtB,mBAQZ6E,EARY,KAQLC,EARK,OASWpF,IAAMM,UAAS,GAT1B,mBASZG,EATY,KASHC,EATG,KAWb2E,EAAU3C,IAEV4C,EAAUC,cAEVC,EAAY,uCAAG,WAAOC,GAAP,SAAAC,EAAA,yDACnBD,EAAEE,iBAEEV,EAAYW,QAAQ9E,QAAUoE,EAAmBU,QAAQ9E,MAH1C,yCAIVsE,EAAS,2BAJC,uBAQjBA,EAAS,IACT1E,GAAW,GATM,SAUXS,EAAO6D,EAASY,QAAQ9E,MAAOmE,EAAYW,QAAQ9E,OAAO+E,MAC9D,SAACC,GACC9D,EACE6C,EAAae,QAAQ9E,MACrBiE,EAAYa,QAAQ9E,UAdT,OAkBjBwE,EAAQS,KAAK,KAlBI,kDAoBjBX,EAAS,iCAAmC,KAAMY,SApBjC,QAuBnBtF,GAAW,GAvBQ,0DAAH,sDA0BlB,OACE,eAACuF,EAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,KAArC,UACE,cAACC,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,CAAKC,EAAG,IACR,sBAAKC,UAAWlB,EAAQxC,MAAxB,UACE,cAAC2D,EAAA,EAAD,CACED,UAAWlB,EAAQvB,cACnBoC,UAAU,KACVO,QAAQ,KAHV,qBAOA,cAACC,EAAA,EAAD,CAAQH,UAAWlB,EAAQ3B,OAA3B,SACE,cAAC,IAAD,MAEF,cAAC8C,EAAA,EAAD,CAAYN,UAAU,KAAKO,QAAQ,KAAnC,qBAGCtB,GACC,eAACwB,EAAA,EAAD,CAAOC,SAAS,QAAhB,UACE,cAACC,EAAA,EAAD,oBACC1B,KAGL,uBAAMoB,UAAWlB,EAAQrB,KAAM8C,SAAUtB,EAAzC,UACE,eAACuB,EAAA,EAAD,CAAMC,WAAS,EAAC3D,QAAS,EAAzB,UACE,cAAC0D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACE,cAACC,EAAA,EAAD,CACEC,aAAa,MACbC,KAAK,YACLb,QAAQ,WACRc,UAAQ,EACRC,WAAS,EACTC,GAAG,YACHC,MAAM,aACNC,WAAS,EACTC,SAAU/C,EACVgD,gBAAiB,CACfxC,QAAS,CACPyC,KAAMzC,EAAQhB,SACd0D,QAAS1C,EAAQZ,aAGrBuD,WAAY,CACV3C,QAAS,CACPyC,KAAMzC,EAAQd,iBACd0D,MAAO5C,EAAQf,SACfyD,QAAS1C,EAAQZ,WACjBC,eAAgBW,EAAQX,gBAE1BwD,UAAW,eAIjB,cAACnB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACE,cAACC,EAAA,EAAD,CACEX,QAAQ,WACRc,UAAQ,EACRC,WAAS,EACTC,GAAG,WACHC,MAAM,YACNJ,KAAK,WACLD,aAAa,MACbO,SAAU7C,EACV8C,gBAAiB,CACfxC,QAAS,CACPyC,KAAMzC,EAAQhB,SACd0D,QAAS1C,EAAQZ,aAGrBuD,WAAY,CACV3C,QAAS,CACPyC,KAAMzC,EAAQd,iBACd0D,MAAO5C,EAAQf,SACfyD,QAAS1C,EAAQZ,WACjBC,eAAgBW,EAAQX,gBAE1BwD,UAAW,eAIjB,cAACnB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACE,cAACE,EAAA,EAAD,CACEX,QAAQ,WACRc,UAAQ,EACRC,WAAS,EACTC,GAAG,QACHC,MAAM,gBACNJ,KAAK,QACLD,aAAa,MACbO,SAAU5C,EACV6C,gBAAiB,CACfxC,QAAS,CACPyC,KAAMzC,EAAQhB,SACd0D,QAAS1C,EAAQZ,aAGrBuD,WAAY,CACV3C,QAAS,CACPyC,KAAMzC,EAAQd,iBACd0D,MAAO5C,EAAQf,SACfyD,QAAS1C,EAAQZ,WACjBC,eAAgBW,EAAQX,gBAE1BwD,UAAW,eAIjB,cAACnB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACE,cAACE,EAAA,EAAD,CACEX,QAAQ,WACRc,UAAQ,EACRC,WAAS,EACTF,KAAK,WACLI,MAAM,WACNS,KAAK,WACLV,GAAG,WACHJ,aAAa,MACbO,SAAU3C,EACV4C,gBAAiB,CACfxC,QAAS,CACPyC,KAAMzC,EAAQhB,SACd0D,QAAS1C,EAAQZ,aAGrBuD,WAAY,CACV3C,QAAS,CACPyC,KAAMzC,EAAQd,iBACd0D,MAAO5C,EAAQf,SACfyD,QAAS1C,EAAQZ,WACjBC,eAAgBW,EAAQX,gBAE1BwD,UAAW,eAIjB,cAACnB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACE,cAACE,EAAA,EAAD,CACEX,QAAQ,WACRc,UAAQ,EACRC,WAAS,EACTF,KAAK,kBACLI,MAAM,mBACNS,KAAK,WACLV,GAAG,kBACHJ,aAAa,MACbO,SAAU1C,EACV2C,gBAAiB,CACfxC,QAAS,CACPyC,KAAMzC,EAAQhB,SACd0D,QAAS1C,EAAQZ,aAGrBuD,WAAY,CACV3C,QAAS,CACPyC,KAAMzC,EAAQd,iBACd0D,MAAO5C,EAAQf,SACfyD,QAAS1C,EAAQZ,WACjBC,eAAgBW,EAAQX,gBAE1BwD,UAAW,kBAKnB,cAACE,EAAA,EAAD,CACEC,SAAU5H,EACV0H,KAAK,SACLX,WAAS,EACTf,QAAQ,YACRvD,MAAM,YACNqD,UAAWlB,EAAQlB,OANrB,qBAUA,cAACiE,EAAA,EAAD,CACElC,UAAWoC,IACXC,GAAG,IACHf,WAAS,EACTf,QAAQ,YACRvD,MAAM,YACNqD,UAAWlB,EAAQjB,OANrB,oBAUA,cAAC2C,EAAA,EAAD,CAAMC,WAAS,EAACwB,QAAQ,WAAxB,SACE,cAACzB,EAAA,EAAD,CAAME,MAAI,EAAV,SACE,cAACwB,EAAA,EAAD,CACEvC,UAAWoC,IACXC,GAAG,SACH9B,QAAQ,QACRvD,MAAM,YAJR,2DCxRRR,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLC,gBAAiBF,EAAMG,QAAQC,QAAQC,KACvCC,MAAON,EAAMG,QAAQC,QAAQG,aAC7BC,QAASR,EAAMS,QAAQ,GACvBC,aAAcV,EAAMS,QAAQ,GAC5BE,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQf,EAAMS,QAAQ,GACtBH,MAAON,EAAMG,QAAQa,UAAUC,MAC/Bf,gBAAiBF,EAAMG,QAAQC,QAAQG,cAEzCW,cAAe,CACbZ,MAAON,EAAMG,QAAQa,UAAUC,MAC/BE,WAAY,UAEdC,KAAM,CACJC,MAAO,OACPC,UAAWtB,EAAMS,QAAQ,IAE3Bc,OAAQ,CACNR,OAAQf,EAAMS,QAAQ,EAAG,EAAG,IAE9Be,OAAQ,CACNT,OAAQf,EAAMS,QAAQ,EAAG,EAAG,GAC5BP,gBAAiB,QAGnBuB,SAAU,CACRnB,MAAM,GAAD,OAAKN,EAAMG,QAAQa,UAAUC,MAA7B,gBAEPS,SAAU,CACRpB,MAAM,GAAD,OAAKN,EAAMG,QAAQC,QAAQG,aAA3B,gBAEPoB,iBAAkB,CAChB,+BAAgC,CAC9BC,YAAY,GAAD,OAAK5B,EAAMG,QAAQa,UAAUC,MAA7B,iBAGfY,WAAY,CACVvB,MAAM,GAAD,OAAKN,EAAMG,QAAQa,UAAUC,MAA7B,gBAEPa,eAAgB,CACdC,YAAa,MACbH,YAAY,GAAD,OAAK5B,EAAMG,QAAQa,UAAUC,MAA7B,oBA8JA6E,EA1JD,WACZ,IAAM1D,EAAWhF,IAAM8E,SACjBG,EAAcjF,IAAM8E,SAEpBO,EAAU3C,IAER3B,EAAUb,IAAVa,MANU,EAOQf,IAAMM,SAAS,IAPvB,mBAOX6E,EAPW,KAOJC,EAPI,OAQYpF,IAAMM,UAAS,GAR3B,mBAQXG,EARW,KAQFC,EARE,KAUZ4E,EAAUC,cAEVC,EAAY,uCAAG,WAAOC,GAAP,SAAAC,EAAA,6DACnBD,EAAEE,iBADiB,SAIjBP,EAAS,IACT1E,GAAW,GALM,SAMXK,EAAMiE,EAASY,QAAQ9E,MAAOmE,EAAYW,QAAQ9E,OANvC,OAOjBwE,EAAQS,KAAK,KAPI,gDASjBX,EAAS,qBATQ,QAYnB1E,GAAW,GAZQ,yDAAH,sDAelB,OACE,eAACuF,EAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,KAArC,UACE,cAACC,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,CAAKC,EAAG,IACR,sBAAKC,UAAWlB,EAAQxC,MAAxB,UACE,cAAC2D,EAAA,EAAD,CACED,UAAWlB,EAAQvB,cACnBoC,UAAU,KACVO,QAAQ,KAHV,qBAOA,cAACC,EAAA,EAAD,CAAQH,UAAWlB,EAAQ3B,OAA3B,SACE,cAAC,IAAD,MAEF,cAAC8C,EAAA,EAAD,CAAYN,UAAU,KAAKO,QAAQ,KAAnC,oBAGCtB,GACC,eAACwB,EAAA,EAAD,CAAOC,SAAS,QAAhB,UACE,cAACC,EAAA,EAAD,oBACC1B,KAGL,uBAAMoB,UAAWlB,EAAQrB,KAAM8C,SAAUtB,EAAzC,UACE,cAAC4B,EAAA,EAAD,CACEX,QAAQ,WACR9C,OAAO,SACP4D,UAAQ,EACRC,WAAS,EACTC,GAAG,QACHC,MAAM,gBACNJ,KAAK,QACLD,aAAa,MACbM,WAAS,EACTC,SAAU5C,EACV6C,gBAAiB,CACfxC,QAAS,CACPyC,KAAMzC,EAAQhB,SACd0D,QAAS1C,EAAQZ,aAGrBuD,WAAY,CACV3C,QAAS,CACPyC,KAAMzC,EAAQd,iBACd0D,MAAO5C,EAAQf,SACfyD,QAAS1C,EAAQZ,WACjBC,eAAgBW,EAAQX,gBAE1BwD,UAAW,aAGf,cAACd,EAAA,EAAD,CACEX,QAAQ,WACR9C,OAAO,SACP4D,UAAQ,EACRC,WAAS,EACTF,KAAK,WACLI,MAAM,WACNS,KAAK,WACLV,GAAG,WACHJ,aAAa,MACbO,SAAU3C,EACV4C,gBAAiB,CACfxC,QAAS,CACPyC,KAAMzC,EAAQhB,SACd0D,QAAS1C,EAAQZ,aAGrBuD,WAAY,CACV3C,QAAS,CACPyC,KAAMzC,EAAQd,iBACd0D,MAAO5C,EAAQf,SACfyD,QAAS1C,EAAQZ,WACjBC,eAAgBW,EAAQX,gBAE1BwD,UAAW,aAGf,cAACE,EAAA,EAAD,CACEC,SAAU5H,EACV0H,KAAK,SACLX,WAAS,EACTf,QAAQ,YACRvD,MAAM,YACNqD,UAAWlB,EAAQlB,OANrB,oBAUA,cAACiE,EAAA,EAAD,CACElC,UAAWoC,IACXC,GAAG,IACHf,WAAS,EACTf,QAAQ,YACRvD,MAAM,YACNqD,UAAWlB,EAAQjB,OANrB,oBAUA,eAAC2C,EAAA,EAAD,CAAMC,WAAS,EAAf,UACE,cAACD,EAAA,EAAD,CAAME,MAAI,EAACC,IAAE,EAAb,SACE,cAACuB,EAAA,EAAD,CACEvC,UAAWoC,IACXC,GAAG,mBACH9B,QAAQ,QACRvD,MAAM,YAJR,gCASF,cAAC6D,EAAA,EAAD,CAAME,MAAI,EAAV,SACE,cAACwB,EAAA,EAAD,CACEvC,UAAWoC,IACXC,GAAG,UACH9B,QAAQ,QACRvD,MAAM,YAJR,SAMG,kDCnMXR,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLC,gBAAiBF,EAAMG,QAAQC,QAAQC,KACvCC,MAAON,EAAMG,QAAQC,QAAQG,aAC7BC,QAASR,EAAMS,QAAQ,GACvBC,aAAcV,EAAMS,QAAQ,GAC5BE,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQf,EAAMS,QAAQ,GACtBH,MAAON,EAAMG,QAAQa,UAAUC,MAC/Bf,gBAAiBF,EAAMG,QAAQC,QAAQG,cAEzCW,cAAe,CACbZ,MAAON,EAAMG,QAAQa,UAAUC,MAC/BE,WAAY,UAEdC,KAAM,CACJC,MAAO,OACPC,UAAWtB,EAAMS,QAAQ,IAE3Bc,OAAQ,CACNR,OAAQf,EAAMS,QAAQ,EAAG,EAAG,IAE9Be,OAAQ,CACNT,OAAQf,EAAMS,QAAQ,EAAG,EAAG,GAC5BP,gBAAiB,QAGnBuB,SAAU,CACRnB,MAAM,GAAD,OAAKN,EAAMG,QAAQa,UAAUC,MAA7B,gBAEPS,SAAU,CACRpB,MAAM,GAAD,OAAKN,EAAMG,QAAQC,QAAQG,aAA3B,gBAEPoB,iBAAkB,CAChB,+BAAgC,CAC9BC,YAAY,GAAD,OAAK5B,EAAMG,QAAQa,UAAUC,MAA7B,iBAGfY,WAAY,CACVvB,MAAM,GAAD,OAAKN,EAAMG,QAAQa,UAAUC,MAA7B,gBAEPa,eAAgB,CACdC,YAAa,MACbH,YAAY,GAAD,OAAK5B,EAAMG,QAAQa,UAAUC,MAA7B,oBA8HA8E,EA1HQ,WACrB,IAAM3D,EAAWhF,IAAM8E,SAEjBO,EAAU3C,IAERnB,EAAkBrB,IAAlBqB,cALmB,EAMDvB,IAAMM,SAAS,IANd,mBAMpB6E,EANoB,KAMbC,EANa,OAOGpF,IAAMM,SAAS,IAPlB,mBAOpB0F,EAPoB,KAOX4C,EAPW,OAQG5I,IAAMM,UAAS,GARlB,mBAQpBG,EARoB,KAQXC,EARW,KAUrB8E,EAAY,uCAAG,WAAOC,GAAP,SAAAC,EAAA,6DACnBD,EAAEE,iBADiB,SAIjBiD,EAAW,IACXxD,EAAS,IACT1E,GAAW,GANM,SAOXa,EAAcyD,EAASY,QAAQ9E,OAPpB,OAQjB8H,EAAW,6CARM,kDAUjBxD,EAAS,6BAA+B,KAAMY,SAV7B,QAanBtF,GAAW,GAbQ,0DAAH,sDAgBlB,OACE,eAACuF,EAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,KAArC,UACE,cAACC,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,CAAKC,EAAG,IACR,sBAAKC,UAAWlB,EAAQxC,MAAxB,UACE,cAAC2D,EAAA,EAAD,CACED,UAAWlB,EAAQvB,cACnBoC,UAAU,KACVO,QAAQ,KAHV,qBAOA,cAACC,EAAA,EAAD,CAAQH,UAAWlB,EAAQ3B,OAA3B,SACE,cAAC,IAAD,MAEF,cAAC8C,EAAA,EAAD,CAAYN,UAAU,KAAKO,QAAQ,KAAnC,4BAGCtB,GACC,eAACwB,EAAA,EAAD,CAAOC,SAAS,QAAhB,UACE,cAACC,EAAA,EAAD,oBACC1B,KAGJa,GACC,eAACW,EAAA,EAAD,CAAOC,SAAS,UAAhB,UACE,cAACC,EAAA,EAAD,+BACCb,KAGL,uBAAMO,UAAWlB,EAAQrB,KAAM8C,SAAUtB,EAAzC,UACE,cAAC4B,EAAA,EAAD,CACEX,QAAQ,WACR9C,OAAO,SACP4D,UAAQ,EACRC,WAAS,EACTC,GAAG,QACHC,MAAM,gBACNJ,KAAK,QACLD,aAAa,MACbM,WAAS,EACTC,SAAU5C,EACV6C,gBAAiB,CACfxC,QAAS,CACPyC,KAAMzC,EAAQhB,SACd0D,QAAS1C,EAAQZ,aAGrBuD,WAAY,CACV3C,QAAS,CACPyC,KAAMzC,EAAQd,iBACd0D,MAAO5C,EAAQf,SACfyD,QAAS1C,EAAQZ,WACjBC,eAAgBW,EAAQX,gBAE1BwD,UAAW,aAGf,cAACE,EAAA,EAAD,CACEC,SAAU5H,EACV0H,KAAK,SACLX,WAAS,EACTf,QAAQ,YACRvD,MAAM,YACNqD,UAAWlB,EAAQlB,OANrB,6BAUA,cAACiE,EAAA,EAAD,CACElC,UAAWoC,IACXC,GAAG,SACHf,WAAS,EACTf,QAAQ,YACRvD,MAAM,YACNqD,UAAWlB,EAAQjB,OANrB,0BAUA,cAAC2C,EAAA,EAAD,CAAMC,WAAS,EAAf,SACE,cAACD,EAAA,EAAD,CAAME,MAAI,EAAV,SACE,cAACwB,EAAA,EAAD,CACEvC,UAAWoC,IACXC,GAAG,UACH9B,QAAQ,QACRvD,MAAM,YAJR,SAMG,iD,uHChJFN,GAhCDiG,aAAe,CAC3B9F,QAAS,CACPC,QAAS,CACPa,MAAO,UACPZ,KAAM,UACN6F,UAAW,UACXC,KAAM,UACN5F,aAAc,QAEhBS,UAAW,CACTC,MAAO,UACPZ,KAAM,UACN8F,KAAM,UACN5F,aAAc,SAGlB6F,WAAY,CACVC,WAAY,CACV,gBACA,qBACA,aACA,SACA,mBACA,QACA,aACA,sBACA,mBACA,qBACAC,KAAK,Q,UCnBLC,GAAWN,YAAe,CAC9BO,UAAW,CACTC,oBAAqB,CACnBvB,KAAM,CACJwB,SAAU,QACVC,OAAQ,EACRtF,MAAO,OACPnB,gBAAiBF,GAAMG,QAAQC,QAAQC,OAG3CuG,0BAA2B,CACzB1B,KAAM,CACJ5E,MAAON,GAAMG,QAAQC,QAAQG,aAC7BsG,UAAW,aACX,UAAW,CACTvG,MAAON,GAAMG,QAAQa,UAAUX,MAEjC,aAAc,CACZC,MAAON,GAAMG,QAAQa,UAAUC,MAC/B,UAAW,CACTX,MAAON,GAAMG,QAAQa,UAAUX,YAuD5ByG,GA/CG,SAACC,GACjB,OACE,cAAC,IAAD,CAAkB/G,MAAOuG,GAAzB,SACE,eAACS,EAAA,EAAD,CACE9I,MAAO6I,EAAME,UACbC,SAAU,SAACC,EAAOC,GAChBL,EAAMM,aAAaD,IAErBE,YAAU,EALZ,UAOE,cAACC,EAAA,EAAD,CACEjE,UAAWuC,IACXF,GAAG,IACHb,MAAM,OACN0C,KAAM,cAAC,IAAD,MAER,cAACD,EAAA,EAAD,CACEjE,UAAWuC,IACXF,GAAG,YACHb,MAAM,WACN0C,KACE,cAACC,GAAA,EAAD,CACEnH,MAAM,YACNuD,QAAQ,MACR6D,UAAWX,EAAMY,iBAHnB,SAKE,cAAC,IAAD,QAIN,cAACJ,EAAA,EAAD,CACEjE,UAAWuC,IACXF,GAAG,UACHb,MAAM,SACN0C,KAAM,cAAC,KAAD,MAER,cAACD,EAAA,EAAD,CACEjE,UAAWuC,IACXF,GAAG,WACHb,MAAM,UACN0C,KAAM,cAAC,IAAD,Y,gFCjDDI,GAvBK,SAACb,GACnB,OACE,eAACc,GAAA,EAAD,CACEC,KAAMf,EAAMe,KACZC,QAAShB,EAAMgB,QACfC,kBAAgB,qBAChBC,mBAAiB,2BAJnB,UAME,cAACC,GAAA,EAAD,CAAarD,GAAG,qBAAhB,SAAsC,UACtC,cAACsD,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAmBvD,GAAG,2BAAtB,SACGkC,EAAMsB,aAGX,cAACC,GAAA,EAAD,UACE,cAAC9C,EAAA,EAAD,CAAQ+C,QAASxB,EAAMgB,QAAShD,WAAS,EAAzC,sBCVFyD,GAAcvC,YAAe,CACjCO,UAAW,CACTiC,UAAW,CACTC,aAAc,CACZpI,MAAON,GAAMG,QAAQa,UAAUC,MAC/Bf,gBAAiBF,GAAMG,QAAQC,QAAQ+F,OAG3CwC,UAAW,CACTzD,KAAM,CACJwB,SAAU,WACVkC,MAAO,GACPtI,MAAON,GAAMG,QAAQa,UAAUX,KAC/BH,gBAAiBF,GAAMG,QAAQC,QAAQC,KACvC,UAAW,CACTC,MAAON,GAAMG,QAAQa,UAAUC,MAC/Bf,gBAAiBF,GAAMG,QAAQC,QAAQa,YAgElC4H,GAzDA,WAAO,IAAD,EACOzL,IAAMM,SAAS,IADtB,mBACZ6E,EADY,KACLC,EADK,OAEalF,IAAxBK,EAFW,EAEXA,YAAac,EAFF,EAEEA,OACfiE,EAAUC,cAHG,EAIevF,IAAMM,UAAS,GAJ9B,mBAIZoL,EAJY,KAIDC,EAJC,KAMbC,EAAY,uCAAG,sBAAAlG,EAAA,6DACnBN,EAAS,IADU,kBAIX/D,IAJW,OAKjBiE,EAAQS,KAAK,UALI,gDAOjBX,EAAS,qBACTuG,GAAa,GARI,yDAAH,qDAgBlB,OACE,cAAC,IAAD,CAAkB/I,MAAOwI,GAAzB,SACE,cAACS,GAAA,EAAD,CAAQvC,SAAS,SAAjB,SACE,eAACwC,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CACE7F,UAAWuC,IACXF,GAAG,IACHyD,KAAK,QACL9I,MAAM,UACN+I,aAAW,OALb,UAOE,cAAC,IAAD,IACA,cAAC5F,EAAA,EAAD,CAAK6F,GAAI,IACT,cAAC1F,EAAA,EAAD,CAAYC,QAAQ,KAApB,wBAEe,OAAhBlG,EACC,cAAC6H,EAAA,EAAD,CAAQlC,UAAWuC,IAAMF,GAAG,SAA5B,oBAIA,eAAC,IAAM4D,SAAP,WACE,cAAC/D,EAAA,EAAD,CAAQ+C,QAASS,EAAjB,qBACA,cAAC,GAAD,CACElB,KAAMgB,EACNf,QA5BW,WACvBgB,GAAa,IA4BDV,SAAU9F,e,sEC7DpBiH,I,OAAcvD,YAAe,CACjCO,UAAW,CACTmC,UAAW,CACTzD,KAAM,CACJ5E,MAAON,GAAMG,QAAQa,UAAUT,aAC/BL,gBAAiBF,GAAMG,QAAQa,UAAUX,KACzCiB,UAAWtB,GAAMS,QAAQ,GACzB,UAAW,CACTH,MAAON,GAAMG,QAAQC,QAAQ+F,KAC7BjG,gBAAiBF,GAAMG,QAAQa,UAAUC,MACzCE,WAAY,cAOhBrB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLqB,UAAWtB,EAAMS,QAAQ,GACzBC,aAAcV,EAAMS,QAAQ,GAC5BD,QAAS,YACTG,QAAS,OACTC,cAAe,SACfC,WAAY,UAEd4I,UAAW,CACTvJ,gBAAiBF,EAAMG,QAAQC,QAAQa,OAEzCyI,WAAY,CACVxJ,gBAAiBF,EAAMG,QAAQa,UAAUT,cAE3CoJ,UAAW,CACTrJ,MAAON,EAAMG,QAAQa,UAAUC,MAC/BE,WAAY,SACZT,aAAc,QAEhBkJ,UAAW,CACTtJ,MAAON,EAAMG,QAAQC,QAAQG,aAC7BY,WAAY,SACZT,aAAc,QAEhBmJ,UAAW,CACTvJ,MAAON,EAAMG,QAAQC,QAAQG,cAE/BuJ,WAAY,CACVC,UAAW,QACXC,YAAahK,EAAMS,QAAQ,IAE7BwJ,UAAW,CACTF,UAAW,OACXG,WAAYlK,EAAMS,QAAQ,QAuPf0J,GAnPF,WACX,IAAM1H,EAAU3C,KAMhB,OAJA1C,IAAMW,WAAU,WACdqM,KAAIC,KAAK,CAAEC,SAAU,QACpB,IAGD,qCACE,eAACnG,EAAA,EAAD,CAAMC,WAAS,EAACmG,UAAU,MAA1B,UACE,cAACpG,EAAA,EAAD,CAAME,MAAI,EAACC,IAAI,IACf,eAACH,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,UACE,qBACEkG,MAAO,CAAEC,IAAK,SAAUpJ,MAAO,QAC/BqJ,IAAK/N,iCACLgO,IAAI,SAGN,cAACC,GAAA,EAAOC,IAAR,CACEC,QAAS,CAAEC,GAAI,GAAIC,QAAS,GAC5BC,WAAY,CACVC,MAAO,EACPH,EAAG,CACDT,SAAU,EACVa,OAAQC,IACRC,WAAY,SACZC,UAAW,MARjB,SAYE,qBAAKd,MAAO,CAAElK,MAAO,QAASyJ,UAAW,UAAzC,SACE,cAACnG,EAAA,EAAD,CAAYC,QAAQ,KAApB,SACE,cAAC,KAAD,aAKR,cAACM,EAAA,EAAD,CAAME,MAAI,EAACC,IAAI,OAGjB,cAACb,EAAA,EAAD,CAAK8H,GAAI,IAET,eAACpH,EAAA,EAAD,CAAMC,WAAS,EAACmG,UAAU,MAA1B,UACE,cAACpG,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,IACtB,eAACJ,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,UAEE,qBACEiH,WAAS,UACTC,kBAAgB,SAChBjB,MAAO,CAAElK,MAAO,SAHlB,SAKE,eAACoL,GAAA,EAAD,CAAO/H,UAAS,UAAKlB,EAAQxC,MAAb,YAAsBwC,EAAQiH,YAA9C,UACE,cAAC9F,EAAA,EAAD,CACED,UAAWlB,EAAQkH,UACnB9F,QAAQ,KACRP,UAAU,KAHZ,yBAOA,cAACM,EAAA,EAAD,CACED,UAAWlB,EAAQoH,UACnBhG,QAAQ,KACRP,UAAU,MAHZ,wxBAkBA,cAAC,IAAD,CAAkBtD,MAAOwJ,GAAzB,SACE,cAAC,IAAD,CAAM7D,GAAG,UAAU6E,MAAO,CAAEmB,eAAgB,QAA5C,SACE,cAACnG,EAAA,EAAD,CAAQoG,KAAK,QAAb,8BAOR,eAACzH,EAAA,EAAD,CAAMC,WAAS,EAACmG,UAAU,MAA1B,UACE,cAACpG,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIuH,GAAI,EAAvB,SACE,qBAAKL,WAAS,aAAaC,kBAAgB,SAA3C,SACE,cAACC,GAAA,EAAD,CAAO/H,UAAWlB,EAAQiH,WAA1B,SACE,eAAC9F,EAAA,EAAD,CACED,UAAS,UAAKlB,EAAQkH,UAAb,YAA0BlH,EAAQqH,YAC3CjG,QAAQ,KACRP,UAAU,KAHZ,uCAME,uBACA,sBACEkI,WAAS,aACTM,iBAAe,OACfL,kBAAgB,SAHlB,SAKE,cAAC,KAAD,MAZJ,OAeE,sBACED,WAAS,aACTM,iBAAe,OACfL,kBAAgB,SAHlB,SAKE,cAAC,KAAD,MApBJ,OAuBE,sBACED,WAAS,aACTM,iBAAe,OACfL,kBAAgB,SAHlB,SAKE,cAAC,KAAD,MA5BJ,OA+BE,sBACED,WAAS,aACTM,iBAAe,OACfL,kBAAgB,SAHlB,SAKE,cAAC,KAAD,eAMV,cAACtH,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIuH,GAAI,EAAvB,SACE,qBAAKL,WAAS,YAAYC,kBAAgB,SAA1C,SACE,cAAC7H,EAAA,EAAD,CACED,UAAWlB,EAAQoH,UACnBhG,QAAQ,KACRP,UAAU,MAHZ,4zBAwBN,cAACG,EAAA,EAAD,CAAK8H,GAAI,IAGT,eAACpH,EAAA,EAAD,CAAMC,WAAS,EAACmG,UAAU,MAA1B,UACE,cAACpG,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACE,qBAAKkH,WAAS,aAAaC,kBAAgB,SAA3C,SACE,cAAC7H,EAAA,EAAD,CACED,UAAWlB,EAAQoH,UACnBhG,QAAQ,KACRP,UAAU,MAHZ,smBAkBJ,cAACa,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACE,qBAAKkH,WAAS,YAAYC,kBAAgB,SAA1C,SACE,cAACC,GAAA,EAAD,CAAO/H,UAAWlB,EAAQiH,WAA1B,SACE,eAAC9F,EAAA,EAAD,CACED,UAAS,UAAKlB,EAAQkH,UAAb,YAA0BlH,EAAQwH,WAC3CpG,QAAQ,KACRP,UAAU,KAHZ,mBAKQ,uBALR,eAME,uBACA,sBACEkI,WAAS,aACTM,iBAAe,OACfL,kBAAgB,SAHlB,SAKE,cAAC,KAAD,MAZJ,OAeE,sBACED,WAAS,aACTM,iBAAe,OACfL,kBAAgB,SAHlB,SAKE,cAAC,KAAD,MApBJ,OAuBE,sBACED,WAAS,aACTM,iBAAe,OACfL,kBAAgB,SAHlB,SAKE,cAAC,KAAD,MA5BJ,OA+BE,sBACED,WAAS,aACTM,iBAAe,OACfL,kBAAgB,SAHlB,SAKE,cAAC,KAAD,MApCJ,mBA4CR,qBACEjB,MAAO,CAAElK,MAAON,GAAMG,QAAQa,UAAUmF,KAAM4D,UAAW,SAD3D,6CAOF,cAAC5F,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,OAExB,cAACd,EAAA,EAAD,CAAK8H,GAAI,S,uCCrTAQ,GAJM,WACnB,OAAOC,KAAOC,MAAMC,QAAQ,OAAOC,UCMrC,I,GAOeC,GAPE,SAACC,GAEhB,IAAIxH,GAAK,IAAIyH,MAAOC,UAAUC,SAAS,IAEvC,OAbF,SAAeC,GAEb,IADA,IAAIC,GAAQ,IAAIJ,MAAOK,UACdC,EAAI,EAAGA,EAAI,QACd,IAAIN,MAAOK,UAAYD,EAAQD,GADZG,MAUzBC,CAAM,GACCR,EAASA,EAASxH,EAAKA,GCDjBiI,GAZM,SAACC,GACpB,OAAIA,EAAQ,GACH,QACEA,EAAQ,GACV,OACEA,EAAQ,GACV,SAEA,OC2CIC,GA9CO,uCAAG,sBAAAlK,EAAA,+EAChBmK,EACJxN,WAAW,WACXyN,MAAM,OAAQ,IAAKnB,MACnBoB,MACAlK,MAAK,SAACmK,GACL,IAAIC,EAAU,GACdD,EAAcE,SAAQ,SAAC5N,GACrB,IAAI6N,EAAO7N,EAAI8N,OAAOD,KAClBE,EAAM/N,EAAI8N,OAAOE,YAAYD,IAC7BE,EAAMjO,EAAI8N,OAAOE,YAAYC,IAC7BZ,EAAQrN,EAAI8N,OAAOT,MACnBM,EAAQO,eAAeL,GACzBF,EAAQE,GAAR,6BACKF,EAAQE,IADb,IAEEM,IAAKC,WAAWT,EAAQE,GAAMM,KAAOC,WAAWf,GAChDgB,MAAOD,WAAWT,EAAQE,GAAMQ,OAAS,IAG3CV,EAAQE,GAAQ,CACd1I,GAAIuH,GAAS,UACbmB,KAAMA,EACNjN,MAAO,QACPoN,YAAa,CAACD,EAAKE,GACnBE,IAAKC,WAAWf,GAChBgB,MAAO,MAIb,IAAMC,EAAe,GAarB,OAZAC,OAAOC,QAAQb,GAASC,SAAQ,YAAa,IAAD,mBAAPa,GAAO,WACtCpB,EAAQqB,KAAKC,KAAKP,WAAWK,EAAEN,KAAOC,WAAWK,EAAEJ,QACvDC,EAAa7K,KAAK,CAChB0B,GAAIsJ,EAAEtJ,GACN0I,KAAMY,EAAEZ,KACRjN,MAAOwM,GAAaC,GACpBW,YAAaS,EAAET,YACfxP,MAAO,GACP6O,MAAOA,OAIJiB,MA1CY,2CAAH,qD,iBCChBM,GAAS,SAACC,GACd,OAAOH,KAAKE,SAAW,GACnBC,EAAcH,KAAKE,UAClBC,EAAcH,KAAKE,UAGpBE,GAAiB,SAACC,GACtB,IAAM7C,EAAOwC,KAAKM,IAAID,EAAOvQ,MAAQ,GAAI,GACnCyQ,EAAW,IAAIC,KAAqBhD,EAAM,GAAI,IAC9CiD,EAAW,IAAID,KAAwB,CAC3CtO,MAAO,IAAIsO,KAAYH,EAAOnO,SAG1BwO,EAAO,IAAIF,KAAWD,EAAUE,GAChC5N,EAAQ,IAAI2N,KAAiBH,EAAOnO,MAAO,EAAG,EAAG,GACjDyO,EAAOC,aAAeF,EAAKH,SAAU,CACzCM,UAAU,EACVC,YAAa,GACb5O,MAAOmO,EAAOnO,MACd6O,MAAO,EACPvD,KAAM,KAERkD,EAAKrR,SAAW,GAChBqR,EAAKM,IAAInO,GACT6N,EAAKM,IAAIL,GAGT,IADA,IAAMM,EAAa,GACVzC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAM0C,EAAoB,IAAIV,KAC5BR,KAAKmB,IAAI3D,EAAOwC,KAAKE,SAAU,KAC/B,GACA,IAEIkB,EAAoB,IAAIZ,KAAwB,CACpDtO,MAAO,IAAIsO,KAAYH,EAAOnO,SAE1BmP,EAAY,IAAIb,KAAWU,EAAmBE,GACpDC,EAAUC,OAAO,IAAId,KAAc,EAAG,EAAG,IACzCS,EAAWlM,KAAKsM,GAChBX,EAAKM,IAAIK,GA0CX,OAvCAJ,EAAW/B,SAAQ,SAACmC,EAAW7C,IAC7B,SAAS9B,IACP,IAAM6E,EAAO,CACX3E,QAAS,GACTtE,SAAU+I,EAAU/I,SAASkJ,QAAQC,UACrCC,MAAO1B,KAAKM,IAAI,GAAKN,KAAKE,WAEtB3I,EAAK,CACTqF,QAAS,GACTtE,SAAU,CAAC4H,GAAc,EAAP1C,GAAW0C,GAAc,EAAP1C,GAAW0C,GAAO1C,IACtDkE,MAAO,KAETC,aAAM,CACJJ,OACAhK,KACAqK,kBAAmB,IACnBC,eAAgB,CAAC,YAAa,SAC9BC,SAAU,WAAO,IAAD,cACIP,EAAKjJ,SADT,GACPyJ,EADO,KACJpF,EADI,KACDqF,EADC,KAERZ,EAAoBC,EAAUZ,SAC9BwB,EAAkB/B,GAAO,KAE7BrN,EAAMqP,UAAYD,EAAkB,GACpCpP,EAAMqP,UAAYD,EAAkB,MAEpCpP,EAAMqP,WAAaD,GAErBb,EAAkBxE,QAAU2E,EAAK3E,QACjCyE,EAAUK,MAAMK,EAAIR,EAAKG,MACzBL,EAAUK,MAAM/E,EAAI4E,EAAKG,MACzBL,EAAUK,MAAMM,EAAIT,EAAKG,MACzBL,EAAU/I,SAAS/G,IAAIwQ,EAAGpF,EAAGqF,IAE/BG,MAAOzF,EACPI,MAAW,IAAJ0B,IAGX9B,MAEKgE,GAwDM0B,GArDD,WAAO,IAAD,EACYpT,IAAMM,SAAS,IAD3B,mBACX2P,EADW,KACFoD,EADE,OAEYrT,IAAMM,UAAS,GAF3B,mBAEXG,EAFW,KAEFC,EAFE,KAIlBV,IAAMW,WAAU,WAAM,4CACpB,4BAAA+E,EAAA,sEAEIhF,GAAW,GAFf,SAGyBkP,KAHzB,OAGQ0D,EAHR,OAIID,EAAWC,GACX5S,GAAW,GALf,gDAQIA,GAAW,GACX6S,QAAQC,IAAR,MATJ,0DADoB,uBAAC,WAAD,wBAapBC,KACC,IAEH,IAAMC,EAAU,CACdC,kBAAmB,GACnBC,sBAAuB,IACvBC,uBAAwB,IACxBC,iBAAkB,OAClBC,mBAAoB,GACpBC,eAAgB,OAChBC,qBAAqB,EACrBC,sBAAuB,SAAC7C,GAAD,gBAAeA,EAAOlB,KAAtB,aAA+BkB,EAAO1B,QAC7DyB,mBAGF,OAAI3Q,EAAgB,2CAGlB,qBACE2M,MAAO,CACLtK,gBAAiB,QACjBqR,OAAQ,SAHZ,SAME,cAAC,KAAD,CACEA,OAAO,OACPlQ,MAAM,OACNgM,QAASA,EACTyD,QAASA,EACTU,mBAAoB,CAAC,QAAS,SAC9BC,iCAAkC,O,6DC/HpC3R,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCyB,SAAU,CACRnB,MAAM,GAAD,OAAKN,EAAMG,QAAQa,UAAUC,MAA7B,gBAEPS,SAAU,CACRpB,MAAM,GAAD,OAAKN,EAAMG,QAAQC,QAAQG,aAA3B,gBAEPoB,iBAAkB,CAChB,+BAAgC,CAC9BC,YAAY,GAAD,OAAK5B,EAAMG,QAAQa,UAAUC,MAA7B,iBAGfY,WAAY,CACVvB,MAAM,GAAD,OAAKN,EAAMG,QAAQa,UAAUC,MAA7B,gBAEPa,eAAgB,CACdC,YAAa,MACbH,YAAY,GAAD,OAAK5B,EAAMG,QAAQa,UAAUC,MAA7B,gBAGbyQ,oBAAqB,CACnBlR,QAAS,WAmGEmR,GA/FQ,SAAC5K,GACtB,IAAMtE,EAAU3C,KAERyN,EAAmDxG,EAAnDwG,KAAMqE,EAA6C7K,EAA7C6K,UAAWlE,EAAkC3G,EAAlC2G,YAAamE,EAAqB9K,EAArB8K,iBAEhCC,EAAY,uCAAG,WAAO5T,GAAP,iBAAA4E,EAAA,sEACGiP,4BAAiB7T,GADpB,cACb8T,EADa,gBAEEC,qBAAUD,EAAQ,IAFpB,OAEbE,EAFa,OAGnBN,EAAU1T,GACV2T,EAAiBK,GAJE,2CAAH,sDAWlB,OACE,eAAC,IAAM3I,SAAP,WACE,cAAC3F,EAAA,EAAD,CAAYtD,MAAM,YAAlB,8CAIA,cAAC,KAAD,CACEpC,MAAOqP,EACPrG,SAAU0K,EACVO,SAAUL,EACVM,cAdgB,CACpBC,MAAO,CAAC,aASN,SAMG,gBAAGC,EAAH,EAAGA,cAAeC,EAAlB,EAAkBA,YAAaC,EAA/B,EAA+BA,uBAAwB3U,EAAvD,EAAuDA,QAAvD,OACC,qCACE,cAAC2G,EAAA,EAAD,6BACM8N,EAAc,CAAEG,YAAa,2BADnC,IAEElQ,MAA2B,OAApBmL,EAAYD,KAAoC,OAApBC,EAAYC,IAC/C9J,QAAQ,WACR9C,OAAO,QACP4D,UAAQ,EACRE,GAAG,OACHC,MAAM,OACNJ,KAAK,OACLD,aAAa,MACbM,WAAS,EACTE,gBAAiB,CACfxC,QAAS,CACPyC,KAAMzC,EAAQhB,SACd0D,QAAS1C,EAAQZ,aAGrBuD,WAAY,CACV3C,QAAS,CACPyC,KAAMzC,EAAQd,iBACd0D,MAAO5C,EAAQf,SACfyD,QAAS1C,EAAQZ,WACjBC,eAAgBW,EAAQX,gBAE1BwD,UAAW,cAGf,8BACGzH,EACC,qBAAK2M,MAAO,CAAElK,MAAO,SAArB,wBAEA,mCACIiS,EAAYG,OACZ,cAAChH,GAAA,EAAD,CACEiH,UAAW,EACXhP,UAAWlB,EAAQiP,oBAFrB,SAIGa,EAAYK,KAAI,SAACC,EAAYC,GAC5B,IAAMtI,EAAQ,CACZlK,MAAON,GAAMG,QAAQC,QAAQG,aAC7BL,gBAAiB2S,EAAWE,OACxB/S,GAAMG,QAAQa,UAAUX,KACxBL,GAAMG,QAAQC,QAAQC,MAE5B,OACE,iDAEMmS,EAAuBK,EAAY,CAAErI,WAF3C,aAIGqI,EAAWG,cAHPF,QAdQ,mB,4DCnFnCG,GAAa7V,IAAM8V,YAAW,SAAoBnM,EAAOoM,GAC7D,OAAO,cAACC,GAAA,EAAD,cAAO7I,UAAU,OAAO4I,IAAKA,GAASpM,OAGzCoB,GAAgBkL,cAAW,SAACrT,GAAD,MAAY,CAC3CkF,KAAM,CACJ1E,QAASR,EAAMS,QAAQ,OAFL4S,CAIlBC,MAEEhL,GAAgB+K,cAAW,SAACrT,GAAD,MAAY,CAC3CkF,KAAM,CACJnE,OAAQ,EACRP,QAASR,EAAMS,QAAQ,OAHL4S,CAKlBE,MAiEWC,GA/DY,WAAO,IAAD,EACPpW,IAAMM,UAAS,GADR,mBACxBoK,EADwB,KAClB2L,EADkB,KAMzBC,EAAc,WAClBD,GAAQ,IAGV,OACE,gCACE,eAAC7P,EAAA,EAAD,CAAYtD,MAAM,YAAYuD,QAAQ,QAAtC,uBAEE,cAACsF,GAAA,EAAD,CAAYZ,QAXM,WACtBkL,GAAQ,IAUJ,SACE,cAAC,KAAD,CAAUnT,MAAM,YAAYqT,SAAS,eAIzC,eAAC9L,GAAA,EAAD,CACEE,QAAS2L,EACTE,oBAAqBX,GACrBrO,WAAW,EACXrB,SAAU,KACVyE,kBAAgB,0BAChBF,KAAMA,EACN+L,WAAY,CACVrJ,MAAO,CACLtK,gBAAiB,UACjBI,MAAO,UAVb,UAcE,cAAC4H,GAAA,EAAD,mBACA,eAAC,GAAD,CAAe4L,UAAQ,EAAvB,UACE,cAAClQ,EAAA,EAAD,CAAYmQ,cAAY,EAAxB,iKAKA,eAACnQ,EAAA,EAAD,CAAYmQ,cAAY,EAACzT,MAAM,YAA/B,UACE,cAAC,IAAD,CAAgBqT,SAAS,UAD3B,+FAIA,eAAC/P,EAAA,EAAD,CAAYmQ,cAAY,EAACzT,MAAM,QAA/B,UACE,cAAC,KAAD,CAA4BqT,SAAS,UADvC,mDAIA,cAAC/P,EAAA,EAAD,CAAYmQ,cAAY,EAAxB,uGAKF,cAAC,GAAD,UACE,cAACvO,EAAA,EAAD,CAAQT,WAAS,EAACwD,QAASmL,EAAapT,MAAM,YAA9C,6BCvEJ0T,GAAc/N,YAAe,CACjC9F,QAAS,CACPa,UAAW,CAAEX,KAAML,GAAMG,QAAQa,UAAUX,OAE7CmG,UAAW,CACTyN,qBAAsB,CACpB/O,KAAM,CACJ1E,QAAS,UACT0T,aAAc,OACdC,gBAAgB,mBAAD,OAAqBC,KAAM,KAA3B,aAAoCC,KAAI,KAAxC,OAGnBC,gBAAiB,CACfC,UAAW,CACT/T,QAAS,aAEX0E,KAAM,CACJ5E,MAAO,QACPJ,gBAAiB,oBACjBiB,WAAY,UACZJ,OAAQ,QACRmT,aAAc,GACd,UAAW,CACT5T,MAAO,QACPJ,gBAAiB,2BAEnB,aAAc,CACZI,MAAO,QACPJ,gBAAiB,0BACjBiB,WAAY,SACZ,UAAW,CACTjB,gBAAiB,8BAKzByI,UAAW,CACTzD,KAAM,CACJhF,gBAAiB,+BAMnBJ,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLC,gBAAiBF,EAAMG,QAAQC,QAAQ8F,UACvC5E,UAAWtB,EAAMS,QAAQ,GACzBC,aAAcV,EAAMS,QAAQ,IAC5BD,QAAS,WACTG,QAAS,OACTC,cAAe,SACfC,WAAY,UAEd8I,UAAW,CACTrJ,MAAON,EAAMG,QAAQa,UAAUC,MAC/BE,WAAY,SACZT,aAAc,YA+FH8T,GA3FK,SAACzN,EAAO/G,GAC1B,IAAMyC,EAAU3C,KAGdyN,EAQExG,EARFwG,KACAkH,EAOE1N,EAPF0N,QACA/G,EAME3G,EANF2G,YACAgH,EAKE3N,EALF2N,eACAC,EAIE5N,EAJF4N,MACAC,EAGE7N,EAHF6N,SACA1Q,EAEE6C,EAFF7C,SACA2Q,EACE9N,EADF8N,YASF,OACE,cAAC,IAAD,CAAkB7U,MAAOgU,GAAzB,SACE,eAAC7P,EAAA,EAAD,CAAMC,WAAS,EAAf,UACE,cAACD,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGsH,GAAI,IAC7B,cAAC1H,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGsH,GAAI,EAA9B,SACE,eAACH,GAAA,EAAD,CAAO/H,UAAWlB,EAAQxC,MAAO0S,UAAW,GAA5C,UACE,cAAC/O,EAAA,EAAD,CACED,UAAWlB,EAAQkH,UACnB9F,QAAQ,KACRP,UAAU,KAHZ,8BAOA,cAAC,GAAD,CACEiK,KAAMA,EACNqE,UAAW6C,EACX/G,YAAaA,EACbmE,iBAAkB6C,IAEpB,cAACjR,EAAA,EAAD,CAAKqR,GAAI,IACT,cAAClR,EAAA,EAAD,CAAYtD,MAAM,YAAlB,wCAGA,cAACsD,EAAA,EAAD,CAAYtD,MAAM,YAAlB,mCAEA,eAACyU,GAAA,EAAD,CACEC,YAAY,WACZ9W,MAAOyW,EACP/I,KAAK,QACLqJ,WAAS,EACT/N,SApCS,SAACC,EAAO+N,GACV,OAAbA,GACFN,EAASM,IA6BH,UAOE,eAACC,GAAA,EAAD,CAAcjX,MAAM,MAAMmL,aAAW,YAArC,UACE,cAAC,IAAD,IADF,YAGA,cAAC8L,GAAA,EAAD,CAAcjX,MAAM,KAAKmL,aAAW,eAApC,0BAGA,eAAC8L,GAAA,EAAD,CAAcjX,MAAM,KAAKmL,aAAW,OAApC,kBACO,cAAC,IAAD,IADP,SAC+B,cAAC,KAAD,OAE/B,cAAC8L,GAAA,EAAD,CAAcjX,MAAM,KAAKmL,aAAW,kBAApC,6BAGA,eAAC8L,GAAA,EAAD,CAAcjX,MAAM,IAAImL,aAAW,eAAnC,UACE,cAAC,KAAD,IADF,kBAKF,cAAC,GAAD,IAEA,cAAC7D,EAAA,EAAD,CAAQlF,MAAM,YAAYiI,QAASrE,EAAnC,oBAGiB,KAAhB2Q,GACC,qCACE,cAACpR,EAAA,EAAD,CAAKqR,GAAI,IACT,cAAC/Q,EAAA,EAAD,CAAOC,SAAS,QAAQwG,MAAO,CAAEnJ,MAAO,OAAxC,4IAQR,cAAC8C,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGsH,GAAI,UC/HtBuJ,GA3BO,SAAC7H,EAAMG,EAAaX,GAExC,IAGMsI,EAAY,CAChB7V,IAJWhD,IAASS,OAAOU,YAIjB6B,IACV8V,KAAM9Y,IAASU,UAAUqY,UAAUC,SAASxJ,KAAOC,MAAME,UACzDoB,KAAMA,EACNG,YAAa,CACXD,IAAKC,EAAYD,IACjBE,IAAKD,EAAYC,KAEnBZ,MAAOA,GAWT,OATAE,EAAGxN,WAAW,WACX2P,IAAIiG,GACJpS,MAAK,SAACwS,GACL9E,QAAQC,IAAI,6BAA8B6E,EAAO5Q,OAElD6Q,OAAM,SAACnT,GAEN,OADAoO,QAAQpO,MAAM,0BAA2BA,GAClCA,EAAMa,WAEV,ICDMuS,GAxBW,uCAAG,gCAAA7S,EAAA,6DAErB7E,EAAOzB,IAASS,OAAOU,YACvB6B,EAAMvB,EAAKuB,IAEboW,EAAiB,GALM,kBAQpB3I,EACJxN,WAAW,WACXyN,MAAM,OAAQ,IAAKnB,MACnBoB,MACAlK,MAAK,SAACmK,GACL,IACEA,EAAcE,SAAQ,SAAC5N,GACrB,GAAIA,EAAI8N,OAAOhO,MAAQA,EAAK,MAAMoW,KAEpC,MAAO/S,GACP,GAAIA,IAAM+S,EAAgB,OAAO,EAEnC,OAAO,MApBgB,2CAAH,qDC+EXC,GA9EC,SAAC9O,GAAW,IAClB+O,EAAwB/O,EAAxB+O,oBADiB,EAGqB1Y,IAAMM,SAAS,MAHpC,mBAGlBqY,EAHkB,KAGDC,EAHC,OAIK5Y,IAAMM,UAAS,GAJpB,mBAIlBG,EAJkB,KAITC,EAJS,KAMzBV,IAAMW,WAAU,WAAM,4CACpB,4BAAA+E,EAAA,sEAEIhF,GAAW,GAFf,SAGyB6X,KAHzB,OAGQjF,EAHR,OAIIsF,EAAmBtF,GACnBoF,EAAoBpF,GACpB5S,GAAW,GANf,kDASIA,GAAW,GACX6S,QAAQC,IAAR,MAVJ,2DADoB,uBAAC,WAAD,wBAcpBC,KACC,CAACiF,IArBqB,MAuBD1Y,IAAMM,SAAS,IAvBd,mBAuBlB6P,EAvBkB,KAuBZkH,EAvBY,OAwBarX,IAAMM,SAAS,CACnD+P,IAAK,KACLE,IAAK,OA1BkB,mBAwBlBD,EAxBkB,KAwBLgH,EAxBK,OA4BCtX,IAAMM,SAAS,OA5BhB,mBA4BlBqP,EA5BkB,KA4BXkJ,EA5BW,OA8Ba7Y,IAAMM,SAAS,IA9B5B,mBA8BlBmX,EA9BkB,KA8BLqB,EA9BK,KAwDzB,OAAIrY,EAAgB,2CAGlB,cAAC,IAAM0L,SAAP,UACIwM,EAYA,cAAC,GAAD,IAXA,cAAC,GAAD,CACExI,KAAMA,EACNkH,QAASA,EACT/G,YAAaA,EACbgH,eAAgBA,EAChBC,MAAO5H,EACP6H,SAAUqB,EACV/R,SApCa,SAACrB,GAIpB,GAHAqT,EAAe,IAGS,OAApBxI,EAAYD,KAAoC,OAApBC,EAAYC,IAA5C,CAQA,IAAMtF,EAAW+M,GAAc7H,EAAMG,EAAaX,GAGjC,KAAb1E,GAKJ2N,GAAmB,GACnBjP,EAAM+O,oBAAoBC,IALxBG,EAAe7N,QAXf6N,EACE,2HA+BErB,YAAaA,OCrERsB,GAJA,SAACpP,GACd,OAAO,qBAAKyD,MAAO,CAAElK,MAAO,SAArB,qB,kBCoCM8V,GArCM,uCAAG,sBAAAtT,EAAA,+EACfmK,EACJxN,WAAW,WACX0N,MACAlK,MAAK,SAACmK,GACL,IAAIiJ,EAAW,GACfjJ,EAAcE,SAAQ,SAAC5N,GACrB,IAAI6N,EAAO7N,EAAI8N,OAAOD,KAClBR,EAAQrN,EAAI8N,OAAOT,MACnBsJ,EAASzI,eAAeL,GAC1B8I,EAAS9I,GAAT,6BACK8I,EAAS9I,IADd,IAEEM,IAAKC,WAAWuI,EAAS9I,GAAMM,KAAOC,WAAWf,GACjDgB,MAAOD,WAAWuI,EAAS9I,GAAMQ,OAAS,IAG5CsI,EAAS9I,GAAQ,CACfA,KAAMA,EACNM,IAAKC,WAAWf,GAChBgB,MAAO,MAKb,IAAIuI,EAAY,GAShB,OARArI,OAAOC,QAAQmI,GAAU/I,SAAQ,YAAa,IAAD,mBAAPa,GAAO,WACvCpB,EAAQqB,KAAKC,KAAKP,WAAWK,EAAEN,KAAOC,WAAWK,EAAEJ,QACvDuI,EAAUnT,KAAK,CACboK,KAAMY,EAAEZ,KACRR,MAAOA,EACPwJ,UAAWpI,EAAEJ,WAGVuI,MAjCW,2CAAH,qD,kDCOfE,GAAcC,mBAAOC,KAAPD,CAAH,gDAIX3W,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLC,gBAAiBF,EAAMG,QAAQC,QAAQ8F,UACvC5E,UAAWtB,EAAMS,QAAQ,GACzBC,aAAcV,EAAMS,QAAQ,IAC5BD,QAAS,WACTG,QAAS,OACTC,cAAe,SACfC,WAAY,UAEd8I,UAAW,CACTrJ,MAAON,EAAMG,QAAQa,UAAUC,MAC/B0S,SAAU,OACVxS,WAAY,SACZT,aAAc,YAIZiW,GAAa,CACjBC,OAAQ,CACNtW,MAAO,SAETuW,UAAW,CACTvW,MAAO,QACPwW,OAAQ,CACNxW,MAAO,QACPyW,OAAQ,CACNzW,MAAO,UAGX0W,KAAM,CACJ1W,MAAO,QACPyW,OAAQ,CACNzW,MAAO,UAGX2W,MAAO,CACL3W,MAAO,WAKP4W,GAAU,CACd,CACEC,SAAU,OACVL,OAAQ,cAACM,GAAA,EAAD,mBACRhX,SAAS,GAEX,CACE+W,SAAU,YACVL,OAAQ,kBACRO,MAAO,UAET,CACEF,SAAU,QACVL,OAAQ,cACRQ,OAAQ,SAACC,GAAD,OACN,cAAC,KAAD,CAAKC,IAAK,CAAEC,SAAU,UAAtB,SACE,cAACC,GAAA,EAAD,CAEEC,OAAQ,CAAC,CAAEzZ,MAAOqZ,EAAMxK,QACxB6K,UAAU,SACVhM,KAAK,QACLiM,OAAO,GAJFN,EAAMhK,WA8DNuK,GAnDC,WACd,IAAMrV,EAAU3C,KADI,EAGkB1C,IAAMM,SAAS,IAHjC,mBAGbqa,EAHa,KAGAC,EAHA,OAIU5a,IAAMM,UAAS,GAJzB,mBAIbG,EAJa,KAIJC,EAJI,KAsBpB,OAhBAV,IAAMW,WAAU,WAAM,4CACpB,4BAAA+E,EAAA,sEAEIhF,GAAW,GAFf,SAGyBsY,KAHzB,OAGQ1F,EAHR,OAIIsH,EAAetH,GACf5S,GAAW,GALf,gDAQIA,GAAW,GACX6S,QAAQC,IAAR,MATJ,0DADoB,uBAAC,WAAD,wBAapBC,KACC,IAEChT,EAAgB,2CAGlB,eAACsG,EAAA,EAAD,CAAMC,WAAS,EAACmG,UAAU,MAA1B,UACE,cAACpG,EAAA,EAAD,CAAME,MAAI,EAACC,IAAI,EAAOC,GAAI,EAAG0T,GAAI,IACjC,cAAC9T,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAG0T,GAAI,EAA9B,SACE,eAACvM,GAAA,EAAD,CAAO/H,UAAWlB,EAAQxC,MAAO0S,UAAW,GAA5C,UACE,cAAC/O,EAAA,EAAD,CAAYD,UAAWlB,EAAQkH,UAAW9F,QAAQ,KAAKP,UAAU,KAAjE,0BAGA,cAAC4U,GAAA,EAAD,CAASlY,MAAO2W,GAAYwB,OAAK,EAAjC,SACE,cAAC3B,GAAD,CACE4B,KAAM,CAAE7N,UAAW,OAAQ4M,SAAU,SACrCkB,UAAU,EACVnB,QAASA,GAAQtE,KAAI,SAAC0F,GAAD,oBAAC,gBACjBA,GADgB,IAEnBC,OAAuB,SAAfD,EAAEnB,cAEZ3J,KAAMuK,EACNS,KAAM,aAKd,cAACrU,EAAA,EAAD,CAAME,MAAI,EAACC,IAAI,EAAOC,GAAI,EAAG0T,GAAI,Q,UC5GxBQ,GAjBM,SAAC,GAAuC,IAA1BC,EAAyB,EAApCpV,UAAyBqV,EAAW,8BAClDhb,EAAgBL,IAAhBK,YAER,OACE,cAAC,IAAD,6BACMgb,GADN,IAEErB,OAAQ,SAACvQ,GACP,OAAOpJ,EACL,cAAC+a,EAAD,6BAAe3R,GAAW4R,IAE1B,cAAC,IAAD,CAAUhT,GAAG,gBC0DRiT,GAxDH,WAAO,IAAD,EACkBxb,IAAMM,SAAS,GADjC,mBACTuJ,EADS,KACE4R,EADF,OAEgCzb,IAAMM,UAAS,GAF/C,mBAETiK,EAFS,KAESmO,EAFT,KAIhB,OACE,qBACEtL,MAAO,CACLtK,gBAAiBF,GAAMG,QAAQC,QAAQ+F,KACvCoL,OAAQ,OACRuH,SAAU,QAJd,SAOE,eAAC,IAAD,CAAQC,SAAUpc,YAAlB,UACE,cAAC,EAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOqc,KAAK,UAAU1V,UAAWtB,IACjC,cAAC,IAAD,CAAOgX,KAAK,SAAS1V,UAAWwC,IAChC,cAAC,IAAD,CAAOkT,KAAK,mBAAmB1V,UAAWyC,IAC1C,cAAC,IAAMwD,SAAP,UACE,eAACpF,EAAA,EAAD,CAAMC,WAAS,EAACmG,UAAU,SAA1B,UACE,cAACpG,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,MAEF,cAACH,EAAA,EAAD,CAAME,MAAI,EAAV,SACE,iCACE,cAAC,GAAD,CACE2U,KAAK,YACL1V,UAAWuS,GACXC,oBAAqBA,IAGvB,cAAC,GAAD,CAAckD,KAAK,UAAU1V,UAAW6S,KAExC,cAAC,GAAD,CAAc6C,KAAK,WAAW1V,UAAWwU,KAEzC,cAAC,IAAD,CAAOmB,OAAK,EAACD,KAAK,IAAlB,SACE,cAAC,GAAD,WAIN,cAAC7U,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,CACE2C,UAAWA,EACXI,aAAcwR,EACdlR,iBAAkBA,gBAMd,UC3DxBuR,IAAS5B,OACP,cAAC,IAAM6B,WAAP,UACE,cAACC,EAAA,EAAD,CAAepZ,MAAOA,GAAtB,SACE,cAAC,GAAD,QAGJqZ,SAASC,eAAe,W","file":"static/js/main.069b4987.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nconst app = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n});\n\nexport const auth = app.auth();\nexport const firestore = app.firestore();\nexport default app;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { auth } from \"./firebase\";\n\nconst AuthContext = React.createContext();\n\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};\n\nexport const AuthProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState();\n  const [loading, setLoading] = useState(true);\n\n  const signup = (email, password) => {\n    return auth.createUserWithEmailAndPassword(email, password);\n  };\n\n  const login = (email, password) => {\n    return auth.signInWithEmailAndPassword(email, password);\n  };\n\n  const logout = () => {\n    return auth.signOut();\n  };\n\n  const resetPassword = (email) => {\n    return auth.sendPasswordResetEmail(email);\n  };\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      setCurrentUser(user);\n      setLoading(false);\n    });\n\n    return unsubscribe;\n  }, []);\n\n  const value = {\n    currentUser,\n    login,\n    signup,\n    logout,\n    resetPassword,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n};\n","const capFirstLetter = (lower) => {\n  return lower.charAt(0).toUpperCase() + lower.substring(1).toLowerCase();\n};\n\nexport default capFirstLetter;\n","import firebase from \"firebase/app\";\nimport { firestore } from \"./firebase\";\nimport capFirstLetter from \"../utils/capFirstLetter\";\n\nconst registerUserInfo = (firstName, lastName) => {\n  // The user we just created\n  const user = firebase.auth().currentUser;\n\n  // Push a new user into database\n  const newUser = {\n    uid: user.uid,\n    firstName: capFirstLetter(firstName),\n    lastName: capFirstLetter(lastName),\n  };\n  firestore.collection(\"users\").doc(user.uid).set(newUser);\n\n  // Update display name of user\n  return user.updateProfile({\n    displayName: capFirstLetter(firstName),\n  });\n};\n\nexport default registerUserInfo;\n","import React from \"react\";\nimport { Link as RouterLink, useHistory } from \"react-router-dom\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport EcoRoundedIcon from \"@material-ui/icons/EcoRounded\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { useAuth } from \"../services/AuthContext\";\nimport registerUserInfo from \"../services/registerUserInfo\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport { Box } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.primary.contrastText,\n    padding: theme.spacing(4),\n    marginBottom: theme.spacing(6),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.light,\n    backgroundColor: theme.palette.primary.contrastText,\n  },\n  greenBoldText: {\n    color: theme.palette.secondary.light,\n    fontWeight: \"Bolder\",\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 0),\n  },\n  cancel: {\n    margin: theme.spacing(2, 0, 2),\n    backgroundColor: \"grey\",\n  },\n\n  cssLabel: {\n    color: `${theme.palette.secondary.light} !important`,\n  },\n  cssInput: {\n    color: `${theme.palette.primary.contrastText} !important`,\n  },\n  cssOutlinedInput: {\n    \"&$cssFocused $notchedOutline\": {\n      borderColor: `${theme.palette.secondary.light} !important`,\n    },\n  },\n  cssFocused: {\n    color: `${theme.palette.secondary.light} !important`,\n  },\n  notchedOutline: {\n    borderWidth: \"1px\",\n    borderColor: `${theme.palette.secondary.light} !important`,\n  },\n}));\n\nconst Signup = () => {\n  const firstNameRef = React.useRef();\n  const lastNameRef = React.useRef();\n  const emailRef = React.useRef();\n  const passwordRef = React.useRef();\n  const passwordConfirmRef = React.useRef();\n\n  const { signup } = useAuth();\n  const [error, setError] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  const classes = useStyles();\n\n  const history = useHistory();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\n      return setError(\"Passwords do not match\");\n    }\n\n    try {\n      setError(\"\");\n      setLoading(true);\n      await signup(emailRef.current.value, passwordRef.current.value).then(\n        (result) => {\n          registerUserInfo(\n            firstNameRef.current.value,\n            lastNameRef.current.value\n          );\n        }\n      );\n      history.push(\"/\");\n    } catch (error) {\n      setError(\"Failed to create your account.\" + error.message);\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <Box p={2} />\n      <div className={classes.paper}>\n        <Typography\n          className={classes.greenBoldText}\n          component=\"h1\"\n          variant=\"h3\"\n        >\n          GoGreen\n        </Typography>\n        <Avatar className={classes.avatar}>\n          <EcoRoundedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        {error && (\n          <Alert severity=\"error\">\n            <AlertTitle>Error</AlertTitle>\n            {error}\n          </Alert>\n        )}\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                autoComplete=\"off\"\n                name=\"firstName\"\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"firstName\"\n                label=\"First Name\"\n                autoFocus\n                inputRef={firstNameRef}\n                InputLabelProps={{\n                  classes: {\n                    root: classes.cssLabel,\n                    focused: classes.cssFocused,\n                  },\n                }}\n                InputProps={{\n                  classes: {\n                    root: classes.cssOutlinedInput,\n                    input: classes.cssInput,\n                    focused: classes.cssFocused,\n                    notchedOutline: classes.notchedOutline,\n                  },\n                  inputMode: \"numeric\",\n                }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"lastName\"\n                label=\"Last Name\"\n                name=\"lastName\"\n                autoComplete=\"off\"\n                inputRef={lastNameRef}\n                InputLabelProps={{\n                  classes: {\n                    root: classes.cssLabel,\n                    focused: classes.cssFocused,\n                  },\n                }}\n                InputProps={{\n                  classes: {\n                    root: classes.cssOutlinedInput,\n                    input: classes.cssInput,\n                    focused: classes.cssFocused,\n                    notchedOutline: classes.notchedOutline,\n                  },\n                  inputMode: \"numeric\",\n                }}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email Address\"\n                name=\"email\"\n                autoComplete=\"off\"\n                inputRef={emailRef}\n                InputLabelProps={{\n                  classes: {\n                    root: classes.cssLabel,\n                    focused: classes.cssFocused,\n                  },\n                }}\n                InputProps={{\n                  classes: {\n                    root: classes.cssOutlinedInput,\n                    input: classes.cssInput,\n                    focused: classes.cssFocused,\n                    notchedOutline: classes.notchedOutline,\n                  },\n                  inputMode: \"numeric\",\n                }}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                autoComplete=\"off\"\n                inputRef={passwordRef}\n                InputLabelProps={{\n                  classes: {\n                    root: classes.cssLabel,\n                    focused: classes.cssFocused,\n                  },\n                }}\n                InputProps={{\n                  classes: {\n                    root: classes.cssOutlinedInput,\n                    input: classes.cssInput,\n                    focused: classes.cssFocused,\n                    notchedOutline: classes.notchedOutline,\n                  },\n                  inputMode: \"numeric\",\n                }}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"passwordConfirm\"\n                label=\"Confirm Password\"\n                type=\"password\"\n                id=\"passwordConfirm\"\n                autoComplete=\"off\"\n                inputRef={passwordConfirmRef}\n                InputLabelProps={{\n                  classes: {\n                    root: classes.cssLabel,\n                    focused: classes.cssFocused,\n                  },\n                }}\n                InputProps={{\n                  classes: {\n                    root: classes.cssOutlinedInput,\n                    input: classes.cssInput,\n                    focused: classes.cssFocused,\n                    notchedOutline: classes.notchedOutline,\n                  },\n                  inputMode: \"numeric\",\n                }}\n              />\n            </Grid>\n          </Grid>\n          <Button\n            disabled={loading}\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.submit}\n          >\n            Sign Up\n          </Button>\n          <Button\n            component={RouterLink}\n            to=\"/\"\n            fullWidth\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.cancel}\n          >\n            Cancel\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link\n                component={RouterLink}\n                to=\"/login\"\n                variant=\"body2\"\n                color=\"secondary\"\n              >\n                Already have an account? Log in\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n};\nexport default Signup;\n","import React from \"react\";\nimport { Link as RouterLink, useHistory } from \"react-router-dom\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport EcoRoundedIcon from \"@material-ui/icons/EcoRounded\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { useAuth } from \"../services/AuthContext\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport { Box } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.primary.contrastText,\n    padding: theme.spacing(4),\n    marginBottom: theme.spacing(6),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.light,\n    backgroundColor: theme.palette.primary.contrastText,\n  },\n  greenBoldText: {\n    color: theme.palette.secondary.light,\n    fontWeight: \"Bolder\",\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 0),\n  },\n  cancel: {\n    margin: theme.spacing(2, 0, 2),\n    backgroundColor: \"grey\",\n  },\n\n  cssLabel: {\n    color: `${theme.palette.secondary.light} !important`,\n  },\n  cssInput: {\n    color: `${theme.palette.primary.contrastText} !important`,\n  },\n  cssOutlinedInput: {\n    \"&$cssFocused $notchedOutline\": {\n      borderColor: `${theme.palette.secondary.light} !important`,\n    },\n  },\n  cssFocused: {\n    color: `${theme.palette.secondary.light} !important`,\n  },\n  notchedOutline: {\n    borderWidth: \"1px\",\n    borderColor: `${theme.palette.secondary.light} !important`,\n  },\n}));\n\nconst Login = () => {\n  const emailRef = React.useRef();\n  const passwordRef = React.useRef();\n\n  const classes = useStyles();\n\n  const { login } = useAuth();\n  const [error, setError] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  const history = useHistory();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      setError(\"\");\n      setLoading(true);\n      await login(emailRef.current.value, passwordRef.current.value);\n      history.push(\"/\");\n    } catch {\n      setError(\"Failed to sign in\");\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <Box p={2} />\n      <div className={classes.paper}>\n        <Typography\n          className={classes.greenBoldText}\n          component=\"h1\"\n          variant=\"h3\"\n        >\n          GoGreen\n        </Typography>\n        <Avatar className={classes.avatar}>\n          <EcoRoundedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Log in\n        </Typography>\n        {error && (\n          <Alert severity=\"error\">\n            <AlertTitle>Error</AlertTitle>\n            {error}\n          </Alert>\n        )}\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"off\"\n            autoFocus\n            inputRef={emailRef}\n            InputLabelProps={{\n              classes: {\n                root: classes.cssLabel,\n                focused: classes.cssFocused,\n              },\n            }}\n            InputProps={{\n              classes: {\n                root: classes.cssOutlinedInput,\n                input: classes.cssInput,\n                focused: classes.cssFocused,\n                notchedOutline: classes.notchedOutline,\n              },\n              inputMode: \"numeric\",\n            }}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"off\"\n            inputRef={passwordRef}\n            InputLabelProps={{\n              classes: {\n                root: classes.cssLabel,\n                focused: classes.cssFocused,\n              },\n            }}\n            InputProps={{\n              classes: {\n                root: classes.cssOutlinedInput,\n                input: classes.cssInput,\n                focused: classes.cssFocused,\n                notchedOutline: classes.notchedOutline,\n              },\n              inputMode: \"numeric\",\n            }}\n          />\n          <Button\n            disabled={loading}\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.submit}\n          >\n            Log In\n          </Button>\n          <Button\n            component={RouterLink}\n            to=\"/\"\n            fullWidth\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.cancel}\n          >\n            Cancel\n          </Button>\n          <Grid container>\n            <Grid item xs>\n              <Link\n                component={RouterLink}\n                to=\"/forgot-password\"\n                variant=\"body2\"\n                color=\"secondary\"\n              >\n                Forgot password?\n              </Link>\n            </Grid>\n            <Grid item>\n              <Link\n                component={RouterLink}\n                to=\"/signup\"\n                variant=\"body2\"\n                color=\"secondary\"\n              >\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport EcoRoundedIcon from \"@material-ui/icons/EcoRounded\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { useAuth } from \"../services/AuthContext\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport { Box } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.primary.contrastText,\n    padding: theme.spacing(4),\n    marginBottom: theme.spacing(6),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.light,\n    backgroundColor: theme.palette.primary.contrastText,\n  },\n  greenBoldText: {\n    color: theme.palette.secondary.light,\n    fontWeight: \"Bolder\",\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 0),\n  },\n  cancel: {\n    margin: theme.spacing(2, 0, 2),\n    backgroundColor: \"grey\",\n  },\n\n  cssLabel: {\n    color: `${theme.palette.secondary.light} !important`,\n  },\n  cssInput: {\n    color: `${theme.palette.primary.contrastText} !important`,\n  },\n  cssOutlinedInput: {\n    \"&$cssFocused $notchedOutline\": {\n      borderColor: `${theme.palette.secondary.light} !important`,\n    },\n  },\n  cssFocused: {\n    color: `${theme.palette.secondary.light} !important`,\n  },\n  notchedOutline: {\n    borderWidth: \"1px\",\n    borderColor: `${theme.palette.secondary.light} !important`,\n  },\n}));\n\nconst ForgotPassword = () => {\n  const emailRef = React.useRef();\n\n  const classes = useStyles();\n\n  const { resetPassword } = useAuth();\n  const [error, setError] = React.useState(\"\");\n  const [message, setMessage] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      setMessage(\"\");\n      setError(\"\");\n      setLoading(true);\n      await resetPassword(emailRef.current.value);\n      setMessage(\"Check your inbox for further instructions\");\n    } catch (error) {\n      setError(\"Failed to reset password. \" + error.message);\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <Box p={2} />\n      <div className={classes.paper}>\n        <Typography\n          className={classes.greenBoldText}\n          component=\"h1\"\n          variant=\"h3\"\n        >\n          GoGreen\n        </Typography>\n        <Avatar className={classes.avatar}>\n          <EcoRoundedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Reset Password\n        </Typography>\n        {error && (\n          <Alert severity=\"error\">\n            <AlertTitle>Error</AlertTitle>\n            {error}\n          </Alert>\n        )}\n        {message && (\n          <Alert severity=\"success\">\n            <AlertTitle>Reset Email Sent</AlertTitle>\n            {message}\n          </Alert>\n        )}\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"off\"\n            autoFocus\n            inputRef={emailRef}\n            InputLabelProps={{\n              classes: {\n                root: classes.cssLabel,\n                focused: classes.cssFocused,\n              },\n            }}\n            InputProps={{\n              classes: {\n                root: classes.cssOutlinedInput,\n                input: classes.cssInput,\n                focused: classes.cssFocused,\n                notchedOutline: classes.notchedOutline,\n              },\n              inputMode: \"numeric\",\n            }}\n          />\n          <Button\n            disabled={loading}\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.submit}\n          >\n            Reset via Email\n          </Button>\n          <Button\n            component={RouterLink}\n            to=\"/login\"\n            fullWidth\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.cancel}\n          >\n            GO TO LOG IN\n          </Button>\n          <Grid container>\n            <Grid item>\n              <Link\n                component={RouterLink}\n                to=\"/signup\"\n                variant=\"body2\"\n                color=\"secondary\"\n              >\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n};\n\nexport default ForgotPassword;\n","// TODO: Update this import\nimport { unstable_createMuiStrictModeTheme as createMuiTheme } from \"@material-ui/core\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: \"#484848\",\n      main: \"#212121\",\n      mainLight: \"#303030\",\n      dark: \"#000000\",\n      contrastText: \"#fff\",\n    },\n    secondary: {\n      light: \"#80e27e\",\n      main: \"#4caf50\",\n      dark: \"#087f23\",\n      contrastText: \"#000\",\n    },\n  },\n  typography: {\n    fontFamily: [\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(\",\"),\n  },\n});\n\nexport default theme;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport BottomNavigation from \"@material-ui/core/BottomNavigation\";\nimport BottomNavigationAction from \"@material-ui/core/BottomNavigationAction\";\nimport HomeRoundedIcon from \"@material-ui/icons/HomeRounded\";\nimport CheckCircleRoundedIcon from \"@material-ui/icons/CheckCircleRounded\";\nimport FormatListNumberedRoundedIcon from \"@material-ui/icons/FormatListNumberedRounded\";\nimport BlurCircularRoundedIcon from \"@material-ui/icons/BlurCircularRounded\";\nimport theme from \"../theme\";\nimport Badge from \"@material-ui/core/Badge\";\n\nconst navTheme = createMuiTheme({\n  overrides: {\n    MuiBottomNavigation: {\n      root: {\n        position: \"fixed\",\n        bottom: 0,\n        width: \"100%\",\n        backgroundColor: theme.palette.primary.main,\n      },\n    },\n    MuiBottomNavigationAction: {\n      root: {\n        color: theme.palette.primary.contrastText,\n        boxSizing: \"border-box\",\n        \"&:hover\": {\n          color: theme.palette.secondary.main,\n        },\n        \"&$selected\": {\n          color: theme.palette.secondary.light,\n          \"&:hover\": {\n            color: theme.palette.secondary.main,\n          },\n        },\n      },\n    },\n  },\n});\n\nconst BottomNav = (props) => {\n  return (\n    <MuiThemeProvider theme={navTheme}>\n      <BottomNavigation\n        value={props.pageValue}\n        onChange={(event, newValue) => {\n          props.onPageChange(newValue);\n        }}\n        showLabels\n      >\n        <BottomNavigationAction\n          component={Link}\n          to=\"/\"\n          label=\"Home\"\n          icon={<HomeRoundedIcon />}\n        />\n        <BottomNavigationAction\n          component={Link}\n          to=\"/check-in\"\n          label=\"Check-in\"\n          icon={\n            <Badge\n              color=\"secondary\"\n              variant=\"dot\"\n              invisible={props.checkinCompleted}\n            >\n              <CheckCircleRoundedIcon />\n            </Badge>\n          }\n        />\n        <BottomNavigationAction\n          component={Link}\n          to=\"/badges\"\n          label=\"Badges\"\n          icon={<BlurCircularRoundedIcon />}\n        />\n        <BottomNavigationAction\n          component={Link}\n          to=\"/ranking\"\n          label=\"Ranking\"\n          icon={<FormatListNumberedRoundedIcon />}\n        />\n      </BottomNavigation>\n    </MuiThemeProvider>\n  );\n};\n\nexport default BottomNav;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nconst AlertDialog = (props) => {\n  return (\n    <Dialog\n      open={props.open}\n      onClose={props.onClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{\"ERROR\"}</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          {props.errorMsg}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={props.onClose} autoFocus>\n          OK\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default AlertDialog;\n","import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EcoRoundedIcon from \"@material-ui/icons/EcoRounded\";\nimport { Box, Button } from \"@material-ui/core\";\nimport { useAuth } from \"../services/AuthContext\";\nimport AlertDialog from \"./AlertDialog\";\nimport theme from \"../theme\";\n\nconst headerTheme = createMuiTheme({\n  overrides: {\n    MuiAppBar: {\n      colorPrimary: {\n        color: theme.palette.secondary.light,\n        backgroundColor: theme.palette.primary.dark,\n      },\n    },\n    MuiButton: {\n      root: {\n        position: \"absolute\",\n        right: 10,\n        color: theme.palette.secondary.main,\n        backgroundColor: theme.palette.primary.main,\n        \"&:hover\": {\n          color: theme.palette.secondary.light,\n          backgroundColor: theme.palette.primary.light,\n        },\n      },\n    },\n  },\n});\n\nconst Header = () => {\n  const [error, setError] = React.useState(\"\");\n  const { currentUser, logout } = useAuth();\n  const history = useHistory();\n  const [alertOpen, setAlertOpen] = React.useState(false);\n\n  const handleLogout = async () => {\n    setError(\"\");\n\n    try {\n      await logout();\n      history.push(\"/login\");\n    } catch {\n      setError(\"Failed to log out\");\n      setAlertOpen(true);\n    }\n  };\n\n  const handleCloseAlert = () => {\n    setAlertOpen(false);\n  };\n\n  return (\n    <MuiThemeProvider theme={headerTheme}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            component={Link}\n            to=\"/\"\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"home\"\n          >\n            <EcoRoundedIcon />\n            <Box mr={1} />\n            <Typography variant=\"h5\">GoGreen</Typography>\n          </IconButton>\n          {currentUser === null ? (\n            <Button component={Link} to=\"/login\">\n              LOG IN\n            </Button>\n          ) : (\n            <React.Fragment>\n              <Button onClick={handleLogout}>LOG OUT</Button>\n              <AlertDialog\n                open={alertOpen}\n                onClose={handleCloseAlert}\n                errorMsg={error}\n              />\n            </React.Fragment>\n          )}\n        </Toolbar>\n      </AppBar>\n    </MuiThemeProvider>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Box, Button, Grid, Paper, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport theme from \"../theme\";\nimport { Link } from \"react-router-dom\";\nimport {\n  GiPineTree,\n  GiFruitTree,\n  GiPalmTree,\n  GiTreeBranch,\n  GiPaperWindmill,\n  GiFairyWings,\n  GiFairyWand,\n} from \"react-icons/gi\";\nimport { FiWind } from \"react-icons/fi\";\nimport { BsChevronDoubleDown } from \"react-icons/bs\";\n\nimport Aos from \"aos\";\nimport \"aos/dist/aos.css\";\n\nconst buttonTheme = createMuiTheme({\n  overrides: {\n    MuiButton: {\n      root: {\n        color: theme.palette.secondary.contrastText,\n        backgroundColor: theme.palette.secondary.main,\n        marginTop: theme.spacing(1),\n        \"&:hover\": {\n          color: theme.palette.primary.dark,\n          backgroundColor: theme.palette.secondary.light,\n          fontWeight: \"bold\",\n        },\n      },\n    },\n  },\n});\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(3),\n    padding: \"25px 20px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  paperGrey: {\n    backgroundColor: theme.palette.primary.light,\n  },\n  paperBlack: {\n    backgroundColor: theme.palette.secondary.contrastText,\n  },\n  greenBold: {\n    color: theme.palette.secondary.light,\n    fontWeight: \"bolder\",\n    marginBottom: \"20px\",\n  },\n  whiteBold: {\n    color: theme.palette.primary.contrastText,\n    fontWeight: \"bolder\",\n    marginBottom: \"20px\",\n  },\n  whiteText: {\n    color: theme.palette.primary.contrastText,\n  },\n  alignRight: {\n    textAlign: \"right\",\n    marginRight: theme.spacing(5),\n  },\n  alignLeft: {\n    textAlign: \"left\",\n    marginLeft: theme.spacing(5),\n  },\n}));\n\nconst Home = () => {\n  const classes = useStyles();\n\n  React.useEffect(() => {\n    Aos.init({ duration: 2000 });\n  }, []);\n\n  return (\n    <>\n      <Grid container direction=\"row\">\n        <Grid item xs={false} />\n        <Grid item xs={12}>\n          <img\n            style={{ top: \"-500px\", width: \"100%\" }}\n            src={process.env.PUBLIC_URL + \"/img/logoCombined.png\"}\n            alt=\"logo\"\n          />\n\n          <motion.div\n            animate={{ y: -20, opacity: 1 }}\n            transition={{\n              delay: 1,\n              y: {\n                duration: 1,\n                repeat: Infinity,\n                repeatType: \"mirror\",\n                stiffness: 100,\n              },\n            }}\n          >\n            <div style={{ color: \"white\", textAlign: \"center\" }}>\n              <Typography variant=\"h3\">\n                <BsChevronDoubleDown />\n              </Typography>\n            </div>\n          </motion.div>\n        </Grid>\n        <Grid item xs={false} />\n      </Grid>\n\n      <Box mb={3} />\n\n      <Grid container direction=\"row\">\n        <Grid item xs={1} sm={2} />\n        <Grid item xs={10} sm={8}>\n          {/* MISSION */}\n          <div\n            data-aos=\"fade-up\"\n            data-aos-easing=\"linear\"\n            style={{ color: \"white\" }}\n          >\n            <Paper className={`${classes.paper} ${classes.paperBlack}`}>\n              <Typography\n                className={classes.greenBold}\n                variant=\"h3\"\n                component=\"h1\"\n              >\n                Our Mission\n              </Typography>\n              <Typography\n                className={classes.whiteText}\n                variant=\"h6\"\n                component=\"div\"\n              >\n                Welcome to the GoGreen App! We are a group of students at Boston\n                College who are passionate about addressing environmental\n                issues. In this modern society, we, as human beings, consume the\n                environment continuously, but we often are not aware of how our\n                actions affect the global environment and influence others’\n                lives, which is a factor causing environmental racism. We create\n                the GoGreen App to promote people’s awareness of their daily\n                environmental footprints, visualize footprints of users from all\n                over the world, and encourage “green” actions through our reward\n                badges and ranking system. We believe that our app will make\n                people care more the environment from daily actions and spread a\n                positive vibe of protecting the environment. Come join us today!\n              </Typography>\n              <MuiThemeProvider theme={buttonTheme}>\n                <Link to=\"/signup\" style={{ textDecoration: \"none\" }}>\n                  <Button size=\"large\">Join Us</Button>\n                </Link>\n              </MuiThemeProvider>\n            </Paper>\n          </div>\n\n          {/* About Env Racism */}\n          <Grid container direction=\"row\">\n            <Grid item xs={12} md={6}>\n              <div data-aos=\"fade-right\" data-aos-easing=\"linear\">\n                <Paper className={classes.paperBlack}>\n                  <Typography\n                    className={`${classes.greenBold} ${classes.alignRight}`}\n                    variant=\"h3\"\n                    component=\"h1\"\n                  >\n                    About Environmental Racism\n                    <br />\n                    <span\n                      data-aos=\"fade-right\"\n                      data-aos-delay=\"2500\"\n                      data-aos-easing=\"linear\"\n                    >\n                      <GiPineTree />\n                    </span>\n                    &nbsp;\n                    <span\n                      data-aos=\"fade-right\"\n                      data-aos-delay=\"2000\"\n                      data-aos-easing=\"linear\"\n                    >\n                      <GiFruitTree />\n                    </span>\n                    &nbsp;\n                    <span\n                      data-aos=\"fade-right\"\n                      data-aos-delay=\"1500\"\n                      data-aos-easing=\"linear\"\n                    >\n                      <GiPalmTree />\n                    </span>\n                    &nbsp;\n                    <span\n                      data-aos=\"fade-right\"\n                      data-aos-delay=\"1000\"\n                      data-aos-easing=\"linear\"\n                    >\n                      <GiTreeBranch />\n                    </span>\n                  </Typography>\n                </Paper>\n              </div>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <div data-aos=\"fade-left\" data-aos-easing=\"linear\">\n                <Typography\n                  className={classes.whiteText}\n                  variant=\"h6\"\n                  component=\"div\"\n                >\n                  Environmental racism is a form of systematic racism where\n                  communities of color are disproportionately burdened with\n                  health hazards through other communities’ policies that force\n                  them to live in areas close to sources of toxic waste such as\n                  sewage works, mines, landfills, power stations, major roads,\n                  and emitters of airborne particulate. As a result, these minor\n                  communities suffer greater rates of health problems attendant\n                  on hazardous pollutants. Research results show that, African\n                  Americans were five times more likely to have lead poisoning\n                  from proximity to waste than caucasian children. Even African\n                  Americans who have higher salaries than White Americans are\n                  more likely to live in polluted areas. GoGreen aims to improve\n                  air quality as an aid to those who live in places with air\n                  pollution.\n                </Typography>\n              </div>\n            </Grid>\n          </Grid>\n\n          <Box mb={6} />\n\n          {/* About Air Quality */}\n          <Grid container direction=\"row\">\n            <Grid item xs={6}>\n              <div data-aos=\"fade-right\" data-aos-easing=\"linear\">\n                <Typography\n                  className={classes.whiteText}\n                  variant=\"h6\"\n                  component=\"div\"\n                >\n                  Our app specifically targets air pollution caused by carbon\n                  emission. Currently, some communities are disproportionately\n                  impacted by air pollution. Low-income and color communities\n                  face the largest impact from air pollution. In the U.S.,\n                  people of color are 1.5 times more likely to live in an area\n                  with poor air quality than their white counterparts. People’s\n                  awareness of this issue is the key to reduce carbon emission\n                  so that the air quality in those impacted areas can be\n                  improved. Our app will promote green transportation methods to\n                  reduce carbon emission and protect the environment.\n                </Typography>\n              </div>\n            </Grid>\n            <Grid item xs={6}>\n              <div data-aos=\"fade-left\" data-aos-easing=\"linear\">\n                <Paper className={classes.paperBlack}>\n                  <Typography\n                    className={`${classes.greenBold} ${classes.alignLeft}`}\n                    variant=\"h3\"\n                    component=\"h1\"\n                  >\n                    About <br /> Air Quality\n                    <br />\n                    <span\n                      data-aos=\"fade-right\"\n                      data-aos-delay=\"1000\"\n                      data-aos-easing=\"linear\"\n                    >\n                      <GiPaperWindmill />\n                    </span>\n                    &nbsp;\n                    <span\n                      data-aos=\"fade-right\"\n                      data-aos-delay=\"1500\"\n                      data-aos-easing=\"linear\"\n                    >\n                      <GiFairyWings />\n                    </span>\n                    &nbsp;\n                    <span\n                      data-aos=\"fade-right\"\n                      data-aos-delay=\"2000\"\n                      data-aos-easing=\"linear\"\n                    >\n                      <GiFairyWand />\n                    </span>\n                    &nbsp;\n                    <span\n                      data-aos=\"fade-right\"\n                      data-aos-delay=\"2500\"\n                      data-aos-easing=\"linear\"\n                    >\n                      <FiWind />\n                    </span>\n                    &nbsp;\n                  </Typography>\n                </Paper>\n              </div>\n            </Grid>\n          </Grid>\n          <div\n            style={{ color: theme.palette.secondary.dark, textAlign: \"right\" }}\n          >\n            Copyright &copy; 2021 GoGreen.\n          </div>\n        </Grid>\n\n        <Grid item xs={1} sm={2} />\n      </Grid>\n      <Box mb={12} />\n    </>\n  );\n};\n\nexport default Home;\n","import moment from \"moment\";\n\nconst startOfToday = () => {\n  return moment.utc().startOf(\"day\").toDate();\n};\n\nexport default startOfToday;\n","function sleep(milliseconds) {\n  var start = new Date().getTime();\n  for (var i = 0; i < 1e7; i++) {\n    if (new Date().getTime() - start > milliseconds) {\n      break;\n    }\n  }\n}\n\nconst uniqueId = (prefix) => {\n  // TODO use shortid\n  let id = new Date().valueOf().toString(36);\n  sleep(1); // wait for one millisecond\n  return prefix ? prefix + id : id;\n};\n\nexport default uniqueId;\n","const scoreToColor = (score) => {\n  if (score > 75) {\n    return \"green\";\n  } else if (score > 50) {\n    return \"gold\";\n  } else if (score > 25) {\n    return \"orange\";\n  } else {\n    return \"red\";\n  }\n};\n\nexport default scoreToColor;\n","import { firestore as db } from \"./firebase\";\nimport startOfToday from \"../utils/startOfToday\";\nimport uniqueId from \"../utils/uniqueId\";\nimport scoreToColor from \"../utils/scoreToColor\";\n\nconst readGlobeMarkers = async () => {\n  return db\n    .collection(\"surveys\")\n    .where(\"date\", \">\", startOfToday())\n    .get()\n    .then((querySnapshot) => {\n      var markers = {};\n      querySnapshot.forEach((doc) => {\n        let city = doc.data().city;\n        let lat = doc.data().coordinates.lat;\n        let lng = doc.data().coordinates.lng;\n        let score = doc.data().score;\n        if (markers.hasOwnProperty(city)) {\n          markers[city] = {\n            ...markers[city],\n            sum: parseFloat(markers[city].sum) + parseFloat(score),\n            count: parseFloat(markers[city].count) + 1,\n          };\n        } else {\n          markers[city] = {\n            id: uniqueId(\"marker\"),\n            city: city,\n            color: \"green\",\n            coordinates: [lat, lng],\n            sum: parseFloat(score),\n            count: 1,\n          };\n        }\n      });\n      const markersArray = [];\n      Object.entries(markers).forEach(([k, v]) => {\n        let score = Math.ceil(parseFloat(v.sum) / parseFloat(v.count));\n        markersArray.push({\n          id: v.id,\n          city: v.city,\n          color: scoreToColor(score),\n          coordinates: v.coordinates,\n          value: 66,\n          score: score,\n        });\n      });\n\n      return markersArray;\n    });\n};\n\nexport default readGlobeMarkers;\n","import React from \"react\";\nimport ReactGlobe, { tween } from \"react-globe\";\nimport readGlobeMarkers from \"../services/readGlobeMarkers\";\nimport * as THREE from \"three\";\nimport { createGlowMesh } from \"three-glow-mesh\";\n\nconst random = (scaleFactor) => {\n  return Math.random() > 0.5\n    ? scaleFactor * Math.random()\n    : -scaleFactor * Math.random();\n};\n\nconst markerRenderer = (marker) => {\n  const size = Math.max(marker.value / 12, 1);\n  const geometry = new THREE.SphereGeometry(size, 10, 10);\n  const material = new THREE.MeshBasicMaterial({\n    color: new THREE.Color(marker.color),\n  });\n\n  const mesh = new THREE.Mesh(geometry, material);\n  const light = new THREE.PointLight(marker.color, 1, 0, 2);\n  const glow = createGlowMesh(mesh.geometry, {\n    backside: false,\n    coefficient: 0.2,\n    color: marker.color,\n    power: 3,\n    size: 15,\n  });\n  mesh.children = [];\n  mesh.add(light);\n  mesh.add(glow);\n\n  const companions = [];\n  for (let i = 0; i < 10; i++) {\n    const companionGeometry = new THREE.SphereGeometry(\n      Math.min(size * Math.random(), 3.5),\n      10,\n      10\n    );\n    const companionMaterial = new THREE.MeshBasicMaterial({\n      color: new THREE.Color(marker.color),\n    });\n    const companion = new THREE.Mesh(companionGeometry, companionMaterial);\n    companion.lookAt(new THREE.Vector3(0, 0, 0));\n    companions.push(companion);\n    mesh.add(companion);\n  }\n\n  companions.forEach((companion, i) => {\n    function animate() {\n      const from = {\n        opacity: 0.1,\n        position: companion.position.clone().toArray(),\n        scale: Math.max(0.5, Math.random()),\n      };\n      const to = {\n        opacity: 0.5,\n        position: [random(size * 3), random(size * 3), random(size)],\n        scale: 0.01,\n      };\n      tween({\n        from,\n        to,\n        animationDuration: 4000,\n        easingFunction: [\"Quadratic\", \"InOut\"],\n        onUpdate: () => {\n          const [x, y, z] = from.position;\n          const companionMaterial = companion.material;\n          const intensityChange = random(0.03);\n          if (\n            light.intensity + intensityChange > 0 &&\n            light.intensity + intensityChange < 1.8\n          ) {\n            light.intensity += intensityChange;\n          }\n          companionMaterial.opacity = from.opacity;\n          companion.scale.x = from.scale;\n          companion.scale.y = from.scale;\n          companion.scale.z = from.scale;\n          companion.position.set(x, y, z);\n        },\n        onEnd: animate,\n        delay: i * 200,\n      });\n    }\n    animate();\n  });\n  return mesh;\n};\n\nconst Globe = () => {\n  const [markers, setMarkers] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    async function check() {\n      try {\n        setLoading(true);\n        let response = await readGlobeMarkers();\n        setMarkers(response);\n        setLoading(false);\n      } catch (error) {\n        // TODO: handle error\n        setLoading(false);\n        console.log(error);\n      }\n    }\n    check();\n  }, []);\n\n  const options = {\n    cameraRotateSpeed: 0.5,\n    cameraAutoRotateSpeed: 0.35,\n    focusAnimationDuration: 2000,\n    enableMarkerGlow: \"true\",\n    globeCloudsOpacity: 0.5,\n    globeGlowColor: \"blue\",\n    enableMarkerTooltip: true,\n    markerTooltipRenderer: (marker) => `${marker.city}: ${marker.score}`,\n    markerRenderer,\n  };\n\n  if (loading) return <span>Loading</span>;\n\n  return (\n    <div\n      style={{\n        backgroundColor: \"black\",\n        height: \"100vh\",\n      }}\n    >\n      <ReactGlobe\n        height=\"90vh\"\n        width=\"auto\"\n        markers={markers}\n        options={options}\n        initialCoordinates={[42.3355, 71.1685]}\n        initialCameraDistanceRadiusScale={5}\n      />\n    </div>\n  );\n};\n\nexport default Globe;\n","import React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Paper, Typography } from \"@material-ui/core\";\nimport PlacesAutoComplete, {\n  geocodeByAddress,\n  getLatLng,\n} from \"react-places-autocomplete\";\nimport theme from \"../theme\";\n\nconst useStyles = makeStyles((theme) => ({\n  cssLabel: {\n    color: `${theme.palette.secondary.light} !important`,\n  },\n  cssInput: {\n    color: `${theme.palette.primary.contrastText} !important`,\n  },\n  cssOutlinedInput: {\n    \"&$cssFocused $notchedOutline\": {\n      borderColor: `${theme.palette.secondary.light} !important`,\n    },\n  },\n  cssFocused: {\n    color: `${theme.palette.secondary.light} !important`,\n  },\n  notchedOutline: {\n    borderWidth: \"1px\",\n    borderColor: `${theme.palette.secondary.light} !important`,\n  },\n\n  autocompleteResults: {\n    padding: \"2px\",\n  },\n}));\n\nconst CityInputField = (props) => {\n  const classes = useStyles();\n\n  const { city, onSetCity, coordinates, onSetCoordinates } = props;\n\n  const handleSelect = async (value) => {\n    const results = await geocodeByAddress(value);\n    const latLng = await getLatLng(results[0]);\n    onSetCity(value);\n    onSetCoordinates(latLng);\n  };\n\n  const searchOptions = {\n    types: [\"(cities)\"],\n  };\n\n  return (\n    <React.Fragment>\n      <Typography color=\"secondary\">\n        Which city are you currently in?\n      </Typography>\n\n      <PlacesAutoComplete\n        value={city}\n        onChange={onSetCity}\n        onSelect={handleSelect}\n        searchOptions={searchOptions}\n      >\n        {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n          <>\n            <TextField\n              {...getInputProps({ placeholder: \"Type then select city\" })}\n              error={coordinates.lat === null || coordinates.lng === null}\n              variant=\"outlined\"\n              margin=\"dense\"\n              required\n              id=\"city\"\n              label=\"City\"\n              name=\"city\"\n              autoComplete=\"off\"\n              autoFocus\n              InputLabelProps={{\n                classes: {\n                  root: classes.cssLabel,\n                  focused: classes.cssFocused,\n                },\n              }}\n              InputProps={{\n                classes: {\n                  root: classes.cssOutlinedInput,\n                  input: classes.cssInput,\n                  focused: classes.cssFocused,\n                  notchedOutline: classes.notchedOutline,\n                },\n                inputMode: \"numeric\",\n              }}\n            />\n            <div>\n              {loading ? (\n                <div style={{ color: \"white\" }}>...loading</div>\n              ) : (\n                <>\n                  {!suggestions.length ? null : (\n                    <Paper\n                      elevation={0}\n                      className={classes.autocompleteResults}\n                    >\n                      {suggestions.map((suggestion, index) => {\n                        const style = {\n                          color: theme.palette.primary.contrastText,\n                          backgroundColor: suggestion.active\n                            ? theme.palette.secondary.main\n                            : theme.palette.primary.main,\n                        };\n                        return (\n                          <div\n                            key={index}\n                            {...getSuggestionItemProps(suggestion, { style })}\n                          >\n                            {suggestion.description}\n                          </div>\n                        );\n                      })}\n                    </Paper>\n                  )}\n                </>\n              )}\n            </div>\n          </>\n        )}\n      </PlacesAutoComplete>\n    </React.Fragment>\n  );\n};\n\nexport default CityInputField;\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport HelpIcon from \"@material-ui/icons/Help\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport LocalGasStationRoundedIcon from \"@material-ui/icons/LocalGasStationRounded\";\nimport EcoRoundedIcon from \"@material-ui/icons/EcoRounded\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"down\" ref={ref} {...props} />;\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\nconst SurveyHelperDialog = () => {\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Typography color=\"secondary\" variant=\"body2\">\n        Need help?\n        <IconButton onClick={handleClickOpen}>\n          <HelpIcon color=\"secondary\" fontSize=\"small\" />\n        </IconButton>\n      </Typography>\n\n      <Dialog\n        onClose={handleClose}\n        TransitionComponent={Transition}\n        fullWidth={true}\n        maxWidth={\"sm\"}\n        aria-labelledby=\"customized-dialog-title\"\n        open={open}\n        PaperProps={{\n          style: {\n            backgroundColor: \"#2e2e2e\",\n            color: \"white\",\n          },\n        }}\n      >\n        <DialogTitle>Help</DialogTitle>\n        <DialogContent dividers>\n          <Typography gutterBottom>\n            You need to select a level that best describes the environmental\n            friendliness of your commuting today. (Please be honest. The result\n            is anonymous.)\n          </Typography>\n          <Typography gutterBottom color=\"secondary\">\n            <EcoRoundedIcon fontSize=\"small\" /> Green: You commuted on foot, by\n            bike, with electric vehicle, by public transportation...\n          </Typography>\n          <Typography gutterBottom color=\"error\">\n            <LocalGasStationRoundedIcon fontSize=\"small\" /> Gasoline: You drove\n            a fossil-fueled vehicle.\n          </Typography>\n          <Typography gutterBottom>\n            In between green and gasoline, there are some intermediate levels\n            that you can choose.\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button autoFocus onClick={handleClose} color=\"secondary\">\n            Got it\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default SurveyHelperDialog;\n","import React from \"react\";\nimport { Box, Button, Grid, Paper, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\nimport { green, red } from \"@material-ui/core/colors\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport theme from \"../theme\";\nimport CityInputField from \"./CityInputField\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport LocalGasStationRoundedIcon from \"@material-ui/icons/LocalGasStationRounded\";\nimport EcoRoundedIcon from \"@material-ui/icons/EcoRounded\";\nimport SurveyHelperDialog from \"./SurveyHelperDialog\";\n\nconst surveyTheme = createMuiTheme({\n  palette: {\n    secondary: { main: theme.palette.secondary.main },\n  },\n  overrides: {\n    MuiToggleButtonGroup: {\n      root: {\n        padding: \"2px 5px\",\n        borderRadius: \"15px\",\n        backgroundImage: `linear-gradient(${green[500]}, ${red[300]})`,\n      },\n    },\n    MuiToggleButton: {\n      sizeLarge: {\n        padding: \"15px 45px\",\n      },\n      root: {\n        color: \"white\",\n        backgroundColor: \"rgba(0, 0, 0, .5)\",\n        fontWeight: \"lighter\",\n        margin: \"3px 0\",\n        borderRadius: 10,\n        \"&:hover\": {\n          color: \"black\",\n          backgroundColor: \"rgba(255, 255, 255, .4)\",\n        },\n        \"&$selected\": {\n          color: \"black\",\n          backgroundColor: \"rgba(255, 255, 255, .8)\",\n          fontWeight: \"bolder\",\n          \"&:hover\": {\n            backgroundColor: \"rgba(255, 255, 255, .4)\",\n          },\n        },\n      },\n    },\n    MuiButton: {\n      root: {\n        backgroundColor: \"rgba(255, 255, 255, .2)\",\n      },\n    },\n  },\n});\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    backgroundColor: theme.palette.primary.mainLight,\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(10),\n    padding: \"30px 0px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  greenBold: {\n    color: theme.palette.secondary.light,\n    fontWeight: \"bolder\",\n    marginBottom: \"20px\",\n  },\n}));\n\nconst DailySurvey = (props, theme) => {\n  const classes = useStyles();\n\n  const {\n    city,\n    setCity,\n    coordinates,\n    setCoordinates,\n    level,\n    setLevel,\n    onSubmit,\n    submitError,\n  } = props;\n\n  const handleChange = (event, newLevel) => {\n    if (newLevel !== null) {\n      setLevel(newLevel);\n    }\n  };\n\n  return (\n    <MuiThemeProvider theme={surveyTheme}>\n      <Grid container>\n        <Grid item xs={1} sm={2} md={3} />\n        <Grid item xs={10} sm={8} md={6}>\n          <Paper className={classes.paper} elevation={10}>\n            <Typography\n              className={classes.greenBold}\n              variant=\"h5\"\n              component=\"h1\"\n            >\n              Today's Check-in\n            </Typography>\n            <CityInputField\n              city={city}\n              onSetCity={setCity}\n              coordinates={coordinates}\n              onSetCoordinates={setCoordinates}\n            />\n            <Box mt={2} />\n            <Typography color=\"secondary\">\n              How did you commute today?\n            </Typography>\n            <Typography color=\"secondary\">Select a level below.</Typography>\n\n            <ToggleButtonGroup\n              orientation=\"vertical\"\n              value={level}\n              size=\"large\"\n              exclusive\n              onChange={handleChange}\n            >\n              <ToggleButton value=\"100\" aria-label=\"All Green\">\n                <EcoRoundedIcon /> Green\n              </ToggleButton>\n              <ToggleButton value=\"75\" aria-label=\"Mostly Green\">\n                Mostly Green\n              </ToggleButton>\n              <ToggleButton value=\"50\" aria-label=\"Half\">\n                Half <EcoRoundedIcon /> Half <LocalGasStationRoundedIcon />\n              </ToggleButton>\n              <ToggleButton value=\"25\" aria-label=\"Mostly Gasoline\">\n                Mostly Gasoline\n              </ToggleButton>\n              <ToggleButton value=\"0\" aria-label=\"All Gasoline\">\n                <LocalGasStationRoundedIcon /> Gasoline\n              </ToggleButton>\n            </ToggleButtonGroup>\n\n            <SurveyHelperDialog />\n\n            <Button color=\"secondary\" onClick={onSubmit}>\n              Submit\n            </Button>\n            {submitError !== \"\" && (\n              <>\n                <Box mt={2} />\n                <Alert severity=\"error\" style={{ width: \"80%\" }}>\n                  Failed to submit. Invalid city name. Please type in a city\n                  name and select from the suggestions below the input field.\n                </Alert>\n              </>\n            )}\n          </Paper>\n        </Grid>\n        <Grid item xs={1} sm={2} md={3} />\n      </Grid>\n    </MuiThemeProvider>\n  );\n};\n\nexport default DailySurvey;\n","import firebase from \"firebase/app\";\nimport { firestore as db } from \"./firebase\";\nimport moment from \"moment\";\n\n// IMPORTANT: time in UTC\n// Returns error message or empty string (success)\nconst pushNewSurvey = (city, coordinates, score) => {\n  // The current user\n  const user = firebase.auth().currentUser;\n\n  // Push a new user into database\n  const newSurvey = {\n    uid: user.uid,\n    date: firebase.firestore.Timestamp.fromDate(moment.utc().toDate()),\n    city: city,\n    coordinates: {\n      lat: coordinates.lat,\n      lng: coordinates.lng,\n    },\n    score: score,\n  };\n  db.collection(\"surveys\")\n    .add(newSurvey)\n    .then((docRef) => {\n      console.log(\"Document written with ID: \", docRef.id);\n    })\n    .catch((error) => {\n      console.error(\"Error adding document: \", error);\n      return error.message;\n    });\n  return \"\";\n};\n\nexport default pushNewSurvey;\n","import firebase from \"firebase/app\";\nimport { firestore as db } from \"./firebase\";\nimport startOfToday from \"../utils/startOfToday\";\n\n// Returns Boolean\nconst checkSurveyCompleted = async () => {\n  // The current user\n  const user = firebase.auth().currentUser;\n  const uid = user.uid;\n\n  let BreakException = {};\n\n  // get all uid that have submitted the survey already\n  return db\n    .collection(\"surveys\")\n    .where(\"date\", \">\", startOfToday())\n    .get()\n    .then((querySnapshot) => {\n      try {\n        querySnapshot.forEach((doc) => {\n          if (doc.data().uid === uid) throw BreakException;\n        });\n      } catch (e) {\n        if (e === BreakException) return true;\n      }\n      return false;\n    });\n};\n\nexport default checkSurveyCompleted;\n","import React from \"react\";\nimport Globe from \"../components/Globe\";\nimport DailySurvey from \"../components/DailySurvey\";\nimport pushNewSurvey from \"../services/pushNewSurvey\";\nimport checkSurveyCompleted from \"../services/checkSurveyCompleted\";\n\nconst Checkin = (props) => {\n  const { setCheckinCompleted } = props;\n\n  const [surveyCompleted, setSurveyCompleted] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    async function check() {\n      try {\n        setLoading(true);\n        let response = await checkSurveyCompleted();\n        setSurveyCompleted(response);\n        setCheckinCompleted(response);\n        setLoading(false);\n      } catch (error) {\n        // TODO: handle error\n        setLoading(false);\n        console.log(error);\n      }\n    }\n    check();\n  }, [setCheckinCompleted]);\n\n  const [city, setCity] = React.useState(\"\");\n  const [coordinates, setCoordinates] = React.useState({\n    lat: null,\n    lng: null,\n  });\n  const [score, setScore] = React.useState(\"100\");\n\n  const [submitError, setSubmitError] = React.useState(\"\");\n\n  const handleSubmit = (e) => {\n    setSubmitError(\"\");\n\n    // if Invalid city name\n    if (coordinates.lat === null || coordinates.lng === null) {\n      setSubmitError(\n        \"Failed to submit. Invalid city name. Please type in a city name and select from the suggestions below the input field.\"\n      );\n      return;\n    }\n\n    // Push the new survey to firestore\n    const errorMsg = pushNewSurvey(city, coordinates, score);\n\n    // if pushing to firestore fails\n    if (errorMsg !== \"\") {\n      setSubmitError(errorMsg);\n      return;\n    }\n\n    setSurveyCompleted(true);\n    props.setCheckinCompleted(surveyCompleted);\n  };\n\n  if (loading) return <span>Loading</span>;\n\n  return (\n    <React.Fragment>\n      {!surveyCompleted ? (\n        <DailySurvey\n          city={city}\n          setCity={setCity}\n          coordinates={coordinates}\n          setCoordinates={setCoordinates}\n          level={score}\n          setLevel={setScore}\n          onSubmit={handleSubmit}\n          submitError={submitError}\n        />\n      ) : (\n        <Globe />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default Checkin;\n","import React from \"react\";\n\nconst Badges = (props) => {\n  return <div style={{ color: \"white\" }}>badges</div>;\n};\n\nexport default Badges;\n","import { firestore as db } from \"./firebase\";\n\nconst readRankingData = async () => {\n  return db\n    .collection(\"surveys\")\n    .get()\n    .then((querySnapshot) => {\n      var cityDict = {};\n      querySnapshot.forEach((doc) => {\n        let city = doc.data().city;\n        let score = doc.data().score;\n        if (cityDict.hasOwnProperty(city)) {\n          cityDict[city] = {\n            ...cityDict[city],\n            sum: parseFloat(cityDict[city].sum) + parseFloat(score),\n            count: parseFloat(cityDict[city].count) + 1,\n          };\n        } else {\n          cityDict[city] = {\n            city: city,\n            sum: parseFloat(score),\n            count: 1,\n          };\n        }\n      });\n\n      var cityArray = [];\n      Object.entries(cityDict).forEach(([k, v]) => {\n        let score = Math.ceil(parseFloat(v.sum) / parseFloat(v.count));\n        cityArray.push({\n          city: v.city,\n          score: score,\n          userCount: v.count,\n        });\n      });\n      return cityArray;\n    });\n};\n\nexport default readRankingData;\n","import React from \"react\";\nimport { Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Grid, Typography } from \"@material-ui/core\";\n\nimport styled from \"styled-components\";\nimport readRankingData from \"../services/readRankingData\";\nimport { Grommet, DataTable, Box, Meter, Text } from \"grommet\";\n\nconst StyledTable = styled(DataTable)`\n  color: white;\n`;\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    backgroundColor: theme.palette.primary.mainLight,\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(10),\n    padding: \"25px 0px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  greenBold: {\n    color: theme.palette.secondary.light,\n    fontSize: \"36px\",\n    fontWeight: \"bolder\",\n    marginBottom: \"20px\",\n  },\n}));\n\nconst tableTheme = {\n  button: {\n    color: \"white\",\n  },\n  dataTable: {\n    color: \"white\",\n    header: {\n      color: \"white\",\n      extend: {\n        color: \"white\",\n      },\n    },\n    body: {\n      color: \"white\",\n      extend: {\n        color: \"white\",\n      },\n    },\n    icons: {\n      color: \"white\",\n    },\n  },\n};\n\nconst columns = [\n  {\n    property: \"city\",\n    header: <Text>City</Text>,\n    primary: true,\n  },\n  {\n    property: \"userCount\",\n    header: \"Number of Users\",\n    align: \"center\",\n  },\n  {\n    property: \"score\",\n    header: \"Green Level\",\n    render: (datum) => (\n      <Box pad={{ vertical: \"xsmall\" }}>\n        <Meter\n          key={datum.city}\n          values={[{ value: datum.score }]}\n          thickness=\"medium\"\n          size=\"small\"\n          round={true}\n        />\n      </Box>\n    ),\n  },\n];\n\nconst Ranking = () => {\n  const classes = useStyles();\n\n  const [rankingData, setRankingData] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    async function check() {\n      try {\n        setLoading(true);\n        let response = await readRankingData();\n        setRankingData(response);\n        setLoading(false);\n      } catch (error) {\n        // TODO: handle error\n        setLoading(false);\n        console.log(error);\n      }\n    }\n    check();\n  }, []);\n\n  if (loading) return <span>Loading</span>;\n\n  return (\n    <Grid container direction=\"row\">\n      <Grid item xs={false} sm={2} lg={3} />\n      <Grid item xs={12} sm={8} lg={6}>\n        <Paper className={classes.paper} elevation={10}>\n          <Typography className={classes.greenBold} variant=\"h5\" component=\"h1\">\n            City Ranking\n          </Typography>\n          <Grommet theme={tableTheme} plain>\n            <StyledTable\n              sort={{ direction: \"desc\", property: \"score\" }}\n              sortable={true}\n              columns={columns.map((c) => ({\n                ...c,\n                search: c.property === \"city\",\n              }))}\n              data={rankingData}\n              step={100}\n            />\n          </Grommet>\n        </Paper>\n      </Grid>\n      <Grid item xs={false} sm={2} lg={3} />\n    </Grid>\n  );\n};\n\nexport default Ranking;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { useAuth } from \"../services/AuthContext\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const { currentUser } = useAuth();\n\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        return currentUser ? (\n          <Component {...props} {...rest} />\n        ) : (\n          <Redirect to=\"/login\" />\n        );\n      }}\n    ></Route>\n  );\n};\n\nexport default PrivateRoute;\n","import React from \"react\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { Grid } from \"@material-ui/core\";\nimport Signup from \"../pages/Signup\";\nimport Login from \"../pages/Login\";\nimport ForgotPassword from \"../pages/ForgotPassword\";\nimport BottomNav from \"./BottomNav\";\nimport Header from \"./Header\";\nimport Home from \"../pages/Home\";\nimport Checkin from \"../pages/Checkin\";\nimport Badges from \"../pages/Badges\";\nimport Ranking from \"../pages/Ranking\";\nimport { AuthProvider } from \"../services/AuthContext\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport theme from \"../theme\";\n\nconst App = () => {\n  const [pageValue, setPageValue] = React.useState(0);\n  const [checkinCompleted, setCheckinCompleted] = React.useState(false);\n\n  return (\n    <div\n      style={{\n        backgroundColor: theme.palette.primary.dark,\n        height: \"100%\",\n        overflow: \"auto\",\n      }}\n    >\n      <Router basename={process.env.PUBLIC_URL}>\n        <AuthProvider>\n          <Switch>\n            <Route path=\"/signup\" component={Signup} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/forgot-password\" component={ForgotPassword} />\n            <React.Fragment>\n              <Grid container direction=\"column\">\n                <Grid item xs={12}>\n                  <Header />\n                </Grid>\n                <Grid item>\n                  <main>\n                    <PrivateRoute\n                      path=\"/check-in\"\n                      component={Checkin}\n                      setCheckinCompleted={setCheckinCompleted}\n                    />\n\n                    <PrivateRoute path=\"/badges\" component={Badges} />\n\n                    <PrivateRoute path=\"/ranking\" component={Ranking} />\n\n                    <Route exact path=\"/\">\n                      <Home />\n                    </Route>\n                  </main>\n                </Grid>\n                <Grid item xs={12}>\n                  <BottomNav\n                    pageValue={pageValue}\n                    onPageChange={setPageValue}\n                    checkinCompleted={checkinCompleted}\n                  />\n                </Grid>\n              </Grid>\n            </React.Fragment>\n          </Switch>\n        </AuthProvider>{\" \"}\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport theme from \"./theme\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}